(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{1:function(t,e){},"36e6":function(t,e,s){"use strict";s("8094")},"533c":function(t,e,s){"use strict";s("7705")},"549a":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-100"},[s("q-dialog",{staticClass:"row",model:{value:t.withdialog,callback:function(e){t.withdialog=e},expression:"withdialog"}},[s("q-card",{staticClass:"bg-white full-width q-pl-sm q-pr-sm"},[s("p",[t._v("Укажите необходимую сумму и валюту для вывода")]),s("q-select",{staticClass:"col-12 q-pt-sm",attrs:{outlined:"",options:t.options,label:"Валюта вывода"},model:{value:t.currency,callback:function(e){t.currency=e},expression:"currency"}}),s("q-input",{staticClass:"col-12 q-pt-sm",attrs:{outlined:"",placeholder:"сумма токенов"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),s("q-btn",{staticClass:"no-shadow full-width q-mt-sm q-mb-sm",attrs:{color:"pink-13",label:"Вывести"},on:{click:function(e){return t.requests(t.bal)}}})],1)],1),s("div",{staticClass:"w-vw-100"},[s("div",{staticClass:"row profilecard"},[s("div",{staticClass:"col-12 flex text-center row justify-center"},[s("div",{staticClass:"col-12"},[s("q-img",{staticClass:"mobile-ui-profile-img w-100",attrs:{src:t.thisModel?t.thisModel.avatars:""}},[s("div",{staticClass:"absolute-top-right bg-none2"},[s("q-fab",{staticClass:"maxc-w self-end ",attrs:{"text-color":"white",icon:"more_horiz",direction:"left",ripple:!1,"active-icon":"circle"}},[s("q-fab-action",{staticClass:"flex",attrs:{color:"dark","text-color":"white",to:"/profile/settings",icon:"settings"}}),s("q-fab-action",{staticClass:"flex",attrs:{color:"red","text-color":"white",icon:"power_settings_new"},on:{click:function(e){return t.logout()}}})],1)],1),s("div",{staticClass:"absolute-bottom row w-100 flex-center-div q-py-none"},[t.showbar?s("q-profilebar",{attrs:{id:t.thisModel.id,color:"white",notpravite:t.pravite}}):t._e()],1)])],1)]),s("q-card",{staticClass:"mobile-ui-profile-infos q-my-xs w-100 "},[s("q-card-section",{staticClass:"col",attrs:{horizontal:""}},[s("div",{staticClass:"leftcontent"},[s("div",{staticClass:"text-h6 q-mb-xs q-ml-md text-left "},[t._v(t._s(t.thisModel?t.thisModel.name:""))]),s("div",{staticClass:"row no-wrap items-center"},[s("q-rating",{attrs:{size:"28px",value:t.thisModel?t.thisModel.rank:t.rank,max:5,disable:this.$route.params.modelid===t.pcm.user.id,color:"yellow"}}),s("span",{staticClass:"text-caption text-grey q-ml-sm"},[t._v(t._s(t.thisModel?t.thisModel.rank:0)+" ("+t._s(t.thisModel?t.thisModel.subscribers:0)+")")])],1)]),s("q-card-actions",{staticClass:"justify-around q-px-md",attrs:{vertical:""}},[s("q-btn",{attrs:{flat:"",round:"",color:"red",ripple:!1,icon:"add"},on:{click:function(e){t.withdialog=!0}}}),s("q-btn",{attrs:{flat:"",round:"",color:"red",label:"Ваш баланс: "+(t.bal?t.bal:0)+" ₮"}})],1)],1)],1)],1),s("div",{staticClass:"w-100 q-mt-none h-vh-50"},[s("swiper",{ref:"profile_swiperbig",attrs:{options:t.swiperOptionswitch}},[s("swiper-slide",[s("swiper",{ref:"profile_swiper",staticClass:"swiper h-vh-50 bg-black profile-swiper",attrs:{options:t.swiperOption,"auto-update":!0,"auto-destroy":!0,"delete-instance-on-destroy":!0,"cleanup-styles-on-destroy":!0}},t._l(t.vidos,(function(e,a){return s("swiper-slide",{key:e._id+a,staticClass:"h-100 bg-black"},[s("vue-plyr",{staticClass:"mute-right h-100 rounded-borders"},[s("video",{staticClass:"profilevideo player",attrs:{"data-plyr-config":'{ "controls": ["play-large","play","mute"]}',id:e._id,poster:e._source.body.video.replace(".mp4","_mobile.png"),src:e._source.body.video.replace(".mp4","_mobile.mp4"),color:"black",type:"video/mp4"}})]),s("q-icon",{staticClass:"z-index-video ",attrs:{name:"zoom_out_map",color:"white",size:"30px"},on:{click:function(s){return t.openfullvideo(e)}}}),s("q-badge",{staticClass:"badge-galary",attrs:{"text-color":"red",floating:""}},[s("span",[t._v("видео")])])],1)})),1)],1),s("swiper-slide",[t.imagesslider?s("swiper",{ref:"profile_swiper_img",staticClass:"swiper h-vh-50 w-100-force bg-black profile-swiper2",attrs:{options:t.swiperOption}},[t._l(t.imagesdata,(function(e,a){return s("swiper-slide",{key:a,staticClass:"h-100 w-100-force bg-black"},[s("q-img",{staticClass:"profilegalary",attrs:{src:e.src}}),s("q-badge",{staticClass:"badge-galary",attrs:{"text-color":"red",floating:""}},[s("span",[t._v("фото")])])],1)})),s("swiper-slide",{directives:[{name:"show",rawName:"v-show",value:this.$route.params.modelid===t.pcm.user.id,expression:"this.$route.params.modelid === pcm.user.id"}],key:"sdsdsd",staticClass:"h-100 bg-black"},[s("q-file",{staticClass:"filepicker",attrs:{filled:"","input-class":"filepickerinner",filter:t.checkFile},on:{input:t.uploadFIle,rejected:t.onRejected},scopedSlots:t._u([{key:"file",fn:function(e){return[s("q-chip",{staticClass:"full-width q-my-xs",attrs:{square:""}},[s("div",{staticClass:"ellipsis relative-position"},[t._v("\n            "+t._s(t.imagefile?t.imagefile.name:"")+"\n          ")])])]}}],null,!1,3184133421),model:{value:t.imagefile,callback:function(e){t.imagefile=e},expression:"imagefile"}},[s("q-icon",{attrs:{name:"add",size:"50px",color:"dark"}})],1)],1)],2):t._e()],1)],1),s("q-dialog",{attrs:{position:"bottom","transition-show":"bounceIn"},model:{value:t.fullvideo.open,callback:function(e){t.$set(t.fullvideo,"open",e)},expression:"fullvideo.open"}},[t.fullvideo.video?s("q-card",{staticClass:"profilefullvideo"},[s("vue-plyr",{staticClass:"bigbtnplyr profilevideo mute-right",attrs:{emit:["loadeddata"]}},[s("video",{ref:"dialogVideo",attrs:{controls:"false","data-plyr-config":'{ "controls": ["mute"]}',src:t.fullvideo.video.video.replace(".mp4","_desktop.mp4"),color:"black",type:"video/mp4"},on:{play:t.setProgressBar}})]),s("q-linear-progress",{attrs:{value:t.fullvideo.progress,color:"pink"}}),s("q-card-section",{staticClass:"row items-center no-wrap"},[s("div",{staticClass:"text-left"},[s("div",{staticClass:"text-weight-bold text-uppercase"},[t._v("\n                  @"+t._s(t.fullvideo.video.tags?t.fullvideo.video.modelname:"none")+"\n                ")]),s("div",{staticClass:"text-grey"},[t._v("\n                  "+t._s(t.fullvideo.video.tags?t.fullvideo.video.tags[0]:"#none")+"\n                ")])]),s("q-space"),s("q-btn",{attrs:{flat:"",round:"",icon:"play_arrow"},on:{click:function(e){return t.$refs.dialogVideo.play()}}}),s("q-btn",{attrs:{flat:"",round:"",icon:"pause"},on:{click:function(e){return t.$refs.dialogVideo.pause()}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",icon:"close"}})],1)],1):t._e()],1)],1)])],1)},i=[],o=(s("5319"),s("ddb0"),s("2b3d"),s("ded3")),l=s.n(o),n=s("c427"),r=s("18d6"),c=s("2f62"),d=s("7212"),u=(s("a7a3"),s("f0e2"),{name:"PageIndex",components:{},props:["pravite"],components:{Swiper:d["Swiper"],SwiperSlide:d["SwiperSlide"]},data(){return{bal:0,imagefile:null,podpis:0,imagesslider:!0,name:null,vidos:[],currency:null,amount:null,withdialog:!1,swiperOption:{loop:!1,lazy:!0,observer:!0,slidesPerView:1,zoom:{enabled:!0,maxRatio:4,minRatio:1,toggle:!0},allowSlideNext:!0,allowSlidePrev:!0,on:{slideChange:()=>{}}},swiperOptionswitch:{effect:"fade",resistanceRatio:0,lazy:!1,zoom:{enabled:!1,maxRatio:1,minRatio:1,toggle:!1},direction:"vertical",allowSlideNext:!0,allowSlidePrev:!0,slidesPerGroupSkip:0,slidesPerView:1,on:{slideChange:()=>{}}},options:["RUB","USD","EUR","CNY","JPN"],alert:null,podpleight:0,followers:0,likes:0,vidos:null,imagesdata:null,showbar:!1,rank:0,fullvideo:{id:!1,video:null,open:null,progress:0},thisModel:null,thumbStyle:{display:"none"},barStyle:{display:"none"}}},computed:l()(l()({},Object(c["b"])(["pcm"])),{},{imgSwiper:function(){return this.$refs.profile_swiper_img.$swiper}}),sockets:{pastes_images:function(t){t.status?(this.$q.notify({type:"positive",message:"done"}),this.imgSwiper.removeSlide(0),this.imagesdata.push(t.res),this.$nextTick((()=>{this.imgSwiper.update()}))):(this.imagesslider=!1,this.imagesdata=JSON.parse(t),this.$nextTick((()=>{this.imagesslider=!0})))},pastes:function(t){console.log(t)},cl_getuserinfos:function(t){this.showbar=!0,this.thisModel=t,this.vidos=t.videos,this.followers=t.subscribers,this.podpleight=t.subscribing}},methods:{uploadFIle(t){this.imgSwiper.addSlide(0,`<div class="h-100 bg-black swiper-slide swiper-slide-active"><img src="${URL.createObjectURL(t)}"  class="profilegalary" >\n     <q-badge text-color="red" floating ><span  @click="upload()" id="uploadbtn" class="savebtn">save</span></q-badge></div>`),this.imgSwiper.slideTo(0,500,!1);let e=this;console.log(document.getElementById("uploadbtn")),document.getElementById("uploadbtn").addEventListener("click",(function(){e.upload(t)}))},upload(t){this.$socket.emit("postes",{type:"upload",tk:this.pcm.user.tk,payload:{img:t}})},checkFile(t){return t.filter((t=>"image/png"===t.type|"image/jpg"===t.type|"image/jpeg"===t.type|t.size>2048))},onRejected(t){this.$q.notify({type:"negative",message:`file ${t[0]} did not pass validation constraints`})},setProgressBar(t){const e=setInterval((()=>{this.fullvideo.progress=t.target.currentTime/t.target.duration,(t.target.currentTime===t.target.duration||t.target.paused)&&clearInterval(e)}),100)},openfullvideo(t){this.fullvideo.video=t._source.body,this.fullvideo.open=!0,this.fullvideo.id=t._id},getdata:function(t){this.$socket.emit("getuserinfoprofile",{id:t||this.pcm.user.id})},routeback(){this.$router.push("/")},logout(){let t=this.pcm.user.tk;r["a"].clear(),this.$q.sessionStorage.remove("sspcm"),this.$q.cookies.remove("sspcm"),Object(n["a"])({method:"get",url:"/logout",headers:{"x-access-token":t}}).then((t=>{this.nologin=!0,this.nnologin=!1,location.replace("/")}))},requests(t){this.withdialog=!1,Object(n["a"])({method:"get",url:"/withdraw",headers:{"x-access-token":this.pcm.user.tk,amount:parseFloat(this.amount),currency:this.currency}}).then((t=>{this.alert=t.data.status,"done"==t.data.status&&Object(n["a"])({method:"get",url:"/balance",headers:{"x-access-token":this.pcm.user.tk}}).then((t=>{this.bal=t.data.balance}))}))},create_model(){Object(n["a"])({method:"post",url:"/create_model_chat",headers:{"x-access-token":this.pcm.user.tk}}).then((t=>{}))}},beforeMount(){this.getdata(this.$route.params.modelid),this.name=this.pcm.user.un},created(){},mounted(){this.$socket.emit("postes",{type:"get",tk:this.pcm.user.tk,payload:{userid:this.$route.params.modelid?this.$route.params.modelid:this.pcm.user.id}}),Object(n["a"])({method:"get",url:"/balance",headers:{"x-access-token":this.pcm.user.tk,userid:this.pcm.user.id}}).then((t=>{this.bal=t.data.balance}))}}),p=u,m=(s("83b3"),s("2877")),h=s("24e8"),v=s("f09f"),g=s("ddd8"),b=s("27f9"),f=s("9c40"),x=s("068f"),w=s("c294"),k=s("72db"),q=s("a370"),y=s("daf4"),C=s("4b7e"),_=s("0016"),$=s("58a8"),S=s("7d53"),M=s("b047"),R=s("6b1d"),L=s("2c91"),Q=s("7f67"),T=s("eebe"),j=s.n(T),I=Object(m["a"])(p,a,i,!1,null,null,null);e["a"]=I.exports;j()(I,"components",{QDialog:h["a"],QCard:v["a"],QSelect:g["a"],QInput:b["a"],QBtn:f["a"],QImg:x["a"],QFab:w["a"],QFabAction:k["a"],QCardSection:q["a"],QRating:y["a"],QCardActions:C["a"],QIcon:_["a"],QBadge:$["a"],QFile:S["a"],QChip:M["a"],QLinearProgress:R["a"],QSpace:L["a"]}),j()(I,"directives",{ClosePopup:Q["a"]})},"5d1f":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:" fit q-mx-md bg-white h-vh-100 row"},[s("div",{staticClass:"col-12 mt-vh-4 h-vh-100 flex-center-div fullpageMT"},[s("div",{staticClass:"w-100 h-100"},[s("q-scroll-area",{staticClass:"h-100",attrs:{"thumb-style":t.thumbStyle,"bar-style":t.barStyle}},[s("transition",{attrs:{appear:"","enter-active-class":"animated bounceInUp","leave-active-class":"animated bounceOutDown"}},[s("q-card-section",{staticClass:"q-pb-none w-mxc q-pa-none row w-100 align-center text-center"},[s("p",{staticClass:"col text-black text-weight-regular text-uppercase text-overline "},[t._v("Настройки стрима")])])],1),s("transition",{attrs:{appear:"","enter-active-class":"animated bounceInUp","leave-active-class":"animated bounceOutDown"}},[s("q-input",{staticClass:"c-border",attrs:{color:"black",type:"textarea",hint:"Описание стрима (<120)","input-class":"text-subtitle1 text-weight-regular q-px-xs",maxlength:"120",placeholder:"Описание стрима"},model:{value:t.streamDesc,callback:function(e){t.streamDesc=e},expression:"streamDesc"}})],1),s("transition",{attrs:{appear:"","enter-active-class":"animated bounceInUp","leave-active-class":"animated bounceOutDown"}},[s("q-input",{staticClass:"c-border q-mt-md",attrs:{color:"black",hint:"Тэги (#Тэг#..) [<60]","input-class":"text-subtitle1 text-uppercase text-weight-regular q-px-xs q-pt-none q-mt-none",maxlength:"60",placeholder:"#Тэги#.."},model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}})],1),s("transition",{attrs:{appear:"","enter-active-class":"animated bounceInUp","leave-active-class":"animated bounceOutDown"}},[s("q-card-section",{staticClass:"q-pb-none q-mt-md w-mxc q-pa-none row w-100 align-center text-center"},[s("p",{staticClass:"col text-black text-weight-regular text-uppercase text-overline "},[t._v("Настройки доната")])])],1),s("q-input",{staticClass:"c-border",attrs:{color:"black",hint:"Цель сбора Токенов [<70]","input-class":"text-subtitle1 text-uppercase text-weight-regular q-px-xs q-pt-none q-mt-none",maxlength:"70",placeholder:"Цель сбора Токенов"},model:{value:t.target,callback:function(e){t.target=e},expression:"target"}}),s("q-input",{staticClass:"c-border q-mt-md",attrs:{type:"number","fill-mask":"0",hint:"Сумма доната [<10]","input-class":"text-subtitle1 text-uppercase text-center text-weight-regular q-px-xs q-pt-none q-mt-none",maxlength:"10",placeholder:"Сумма доната"},model:{value:t.sum,callback:function(e){t.sum=e},expression:"sum"}}),s("q-card-section",{staticClass:"q-pb-none q-mt-md w-mxc q-pa-none row w-100 align-center text-center"},[s("p",{staticClass:"col text-black text-weight-regular text-uppercase text-overline "},[t._v("Настройки привата")])]),s("q-input",{staticClass:"c-border q-mt-md",attrs:{color:"black",type:"number","fill-mask":"0",hint:"Стоимость минуты привата [<10]","input-class":"text-subtitle1 text-uppercase text-center text-weight-regular q-px-xs q-pt-none q-mt-none",maxlength:"10",placeholder:"Стоимость минуты привата"},model:{value:t.sumPrivat,callback:function(e){t.sumPrivat=e},expression:"sumPrivat"}}),s("q-checkbox",{staticClass:"mt-vh-2 w-100 flex-center-div text-center",attrs:{color:"black",dense:"",size:"4vh"},model:{value:t.cMode,callback:function(e){t.cMode=e},expression:"cMode"}},[s("p",{staticClass:"text-comment-18 gray-1337 q-ma-none"},[t._v("Разрешить подглядывания")])]),s("q-card-section",{staticClass:"q-pb-none q-mt-md w-mxc q-pa-none row w-100 align-center text-center"},[s("p",{staticClass:"col text-black text-weight-regular text-uppercase text-overline "},[t._v("Настройки бота")])]),s("q-input",{staticClass:"c-border",attrs:{color:"black",hint:"Текст сообщения бота [<70]","input-class":"text-subtitle1  text-weight-regular q-px-xs q-pt-none q-mt-none",maxlength:"70",placeholder:"Текст сообщения бота"},model:{value:t.botDesk,callback:function(e){t.botDesk=e},expression:"botDesk"}}),s("q-input",{staticClass:"c-border q-mt-md",attrs:{color:"black","fill-mask":"0",hint:"Таймаут (min)","input-class":"text-subtitle1 text-uppercase text-center text-weight-regular q-px-xs q-pt-none q-mt-none",maxlength:"10",placeholder:"Таймаут"},model:{value:t.botTime,callback:function(e){t.botTime=e},expression:"botTime"}}),s("div",{staticClass:"flex-center-div"},[s("q-btn",{staticClass:"q-mt-md w-80 text-overline",attrs:{rounded:"",outline:"",label:"Сохранить",color:"black"},on:{click:function(e){return t.cl_SendInfo()}}})],1),s("div",{staticClass:"flex-center-div q-mb-lg"},[s("q-icon",{staticClass:"q-mt-md w-80 ",attrs:{size:"xl",name:"keyboard_backspace",color:"black"},on:{click:function(e){return t.goback()}}})],1)],1)],1)])])},i=[],o=s("ded3"),l=s.n(o),n=(s("18d6"),s("c427"),s("2f62")),r={data(){return{recModels:5,modelall_video:0,subscribList:null,subscribListL:!1,streamDesc:null,tags:null,target:null,sum:null,sumPrivat:null,cMode:!1,botDesk:null,botTime:null,thumbStyle:{display:"none"},barStyle:{display:"none"}}},sockets:{cl_streamStart:function(t){"ready"==t&&this.$router.push("chat")},cl_getstreaminfo:function(t){this.streamDesc=t.streamDesc,this.tags=t.tags,this.target=t.target,this.sum=t.sum,this.sumPrivat=t.sumPrivat,this.cMode="true"==t.cMode,this.botDesk=t.botDesk,this.botTime=t.botTime}},computed:l()({},Object(n["b"])(["pcm"])),mounted(){this.$socket.emit("s_changePage",{token:this.pcm.user.tk,page:"newstream"}),this.$socket.emit("s_getstreaminfo",{token:this.pcm.user.tk,modelid:this.pcm.user.id})},updated(){},created(){},beforeCreate(){},beforeDestroy(){},methods:{goback(){this.$root.$emit("changepage",1)},cl_SendInfo(){if(null!=this.streamDesc&&null!=this.tags&&null!=this.sumPrivat){this.sum=null==this.sum?-1:this.sum,this.target=null==this.target?-1:this.target,this.botDesk=null==this.botDesk?-1:this.botDesk,this.botTime=null==this.botTime?-1:this.botTime;let t={streamDesc:this.streamDesc,tags:this.tags,target:this.target,sum:this.sum,sumPrivat:this.sumPrivat,cMode:this.cMode,botDesk:this.botDesk,botTime:this.botTime,token:this.pcm.user.tk,userid:this.pcm.user.id};console.log(t),this.$socket.emit("s_streamStart",{obj:t})}}}},c=r,d=s("2877"),u=s("4983"),p=s("a370"),m=s("27f9"),h=s("8f8e"),v=s("9c40"),g=s("0016"),b=s("eebe"),f=s.n(b),x=Object(d["a"])(c,a,i,!1,null,null,null);e["a"]=x.exports;f()(x,"components",{QScrollArea:u["a"],QCardSection:p["a"],QInput:m["a"],QCheckbox:h["a"],QBtn:v["a"],QIcon:g["a"]})},"651f":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{directives:[{name:"touch",rawName:"v-touch:swipe.right",value:t.onright,expression:"onright",arg:"swipe",modifiers:{right:!0}}],staticClass:"bg-white"},[s("div",{staticClass:"row w-vw-100 h-vh-10"},[s("q-toolbar",{staticClass:"bg-black text-white rounded-borders"},[s("q-btn",{staticClass:"q-mr-xs",attrs:{round:"",dense:"",flat:"",icon:"navigate_before",to:"/"}}),s("q-avatar",[s("img",{attrs:{src:"https://rec.camsguns.com/logo.png"}})]),s("q-space"),s("q-input",{staticClass:"q-ml-md",attrs:{dark:"",borderless:"",placeholder:"model name","input-class":"text-center text-uppercase text-subtitle2 text-weight-light"},scopedSlots:t._u([{key:"append",fn:function(){return[""===t.searchQuery?s("q-icon",{attrs:{name:"search"}}):s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"clear"},on:{click:function(e){t.text=""}}})]},proxy:!0}]),model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1)],1),t.girlsVideos.length>0?s("div",{staticClass:"row"},t._l(t.girlsVideos,(function(e,a){return s("div",{key:e.id,staticClass:"col-12 q-pd-xs q-pr-xs"},[s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/"+e.link}},[s("q-item-section",{attrs:{side:"","v-if":t.imageExists(a,e.screen).status}},[s("q-avatar",{attrs:{rounded:"",size:"100px"}},[s("img",{attrs:{"v-if":!!e.status,src:e.screen}}),s("q-badge",{attrs:{floating:"",color:"red"}},[t._v("live")])],1)],1),s("q-item-section",{staticClass:"text-black text-uppercase text-left"},[s("q-item-label",[t._v("@"+t._s(e.username))]),s("q-item-label",{staticClass:"text-black text-uppercase text-left",attrs:{caption:""}},[t._v(t._s(e.otherData.UuserId.name))])],1),s("q-item-section",{attrs:{side:""}},[t._v("\n       "+t._s(0!==t.getdatediff(e.otherData.updatedAt).month?t.getdatediff(e.otherData.updatedAt).month+" months ago":0!==t.getdatediff(e.otherData.updatedAt).day?t.getdatediff(e.otherData.updatedAt).day+" days ago":0!==t.getdatediff(e.otherData.updatedAt).hr?t.getdatediff(e.otherData.updatedAt).hr+" hrs ago":t.getdatediff(e.otherData.updatedAt).min+" min ago")+"\n     ")]),s("q-item-section",{attrs:{avatar:""}},[s("q-avatar",{attrs:{round:""}},[s("img",{attrs:{src:e.otherData.avatars}})])],1)],1)],1)})),0):s("div",{staticClass:"row h-vh-100 w-vw-100 justify-center items-center"},[s("div",{staticClass:"col-6"},[s("p",{staticClass:"text-black text-h6 text-uppercase text-weight-light text-center q-mx-auto q-my-auto"},[t._v("no one is live")])])])])},i=[],o=s("c427"),l=s("18d6"),n=s("bd4c"),r={name:"live",data(){return{model:"",girlsVideos:[],searchQuery:null,girlsVideosBack:[]}},watch:{searchQuery:function(t){this.girlsVideosBack=this.girlsVideos,this.girlsVideos=t?this.girlsVideos.filter((e=>-1!==e.username.search(t))):this.girlsVideosBack}},beforeCreate(){Object(o["a"])({method:"get",url:"/models_online",headers:{"x-access-token":l["a"].getItem("token")}}).then((t=>{this.girlsVideos=t.data})),setInterval(function(){Object(o["a"])({method:"get",url:"/models_online",headers:{"x-access-token":l["a"].getItem("token")}}).then((t=>{this.searchQuery||(this.girlsVideos=t.data)}))}.bind(this),5e3)},methods:{onright:function(){this.$router.back()},getdatediff(t){let e=new Date(t),s=new Date,a=t=>n["b"].getDateDiff(s,e,t);return{month:a("months"),day:a("days"),hr:a("hours"),min:a("minutes")}},imageExists:function(t,e){this.girlsVideos[t].status=!1;var s=window.location.protocol,a=`${s}//${e.split("//").reduce(((t,e)=>t.length>e.length?t:e))}`,i=new XMLHttpRequest;i.open("HEAD",a,!1);try{i.send(),this.girlsVideos[t].screen=404!==i.status?a:"https://rec.camsguns.com/no-image.png",this.girlsVideos[t].status=404!==i.status}catch(o){this.girlsVideos[t].screen=404!==i.status?a:"https://rec.camsguns.com/no-image.png",this.girlsVideos[t].status=404!==i.status}return{status:404!=i.status,img:a}}}},c=r,d=(s("9881"),s("2877")),u=s("9989"),p=s("27f9"),m=s("cb32"),h=s("65c6"),v=s("9c40"),g=s("2c91"),b=s("0016"),f=s("66e5"),x=s("4074"),w=s("58a8"),k=s("0170"),q=s("714f"),y=s("eebe"),C=s.n(y),_=Object(d["a"])(c,a,i,!1,null,"75eaeb6d",null);e["a"]=_.exports;C()(_,"components",{QPage:u["a"],QInput:p["a"],QAvatar:m["a"],QToolbar:h["a"],QBtn:v["a"],QSpace:g["a"],QIcon:b["a"],QItem:f["a"],QItemSection:x["a"],QBadge:w["a"],QItemLabel:k["a"]}),C()(_,"directives",{Ripple:q["a"]})},7705:function(t,e,s){},7806:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.show2?s("q-page",{staticClass:"vh100"},[s("q-ajax-bar",{ref:"bar",attrs:{position:"top",color:"black",size:"4px","skip-hijack":""}}),s("swiper",{ref:"swipermenu",staticClass:"swiper_menu",attrs:{options:t.swiperOptionMenu},on:{slideChange:t.onMenuSlideChange}},[s("swiper-slide",{staticClass:"menu"},[s("q-silde-mobile",{attrs:{searchrate:.2,placeholder:"модель"}})],1),s("swiper-slide",{staticClass:"content"},[s("swiper",{directives:[{name:"show",rawName:"v-show",value:"recs"===t.tabVideos&&!t.pcm.auth,expression:"tabVideos === 'recs' && !pcm.auth"}],ref:"mySwiper",staticClass:"swiper vh100 bg-black offline",attrs:{options:t.swiperOption,"auto-update":!0,"auto-destroy":!0,"delete-instance-on-destroy":!0,"cleanup-styles-on-destroy":!0},on:{slideChangeTransitionEnd:t.onSwiper}},t._l(t.pcm.offlinevideos,(function(e,a){return s("swiper-slide",{key:e.id[0]+a,staticClass:"row vh100 "},[s("div",{staticClass:"absolute-center full-width zi200 vh100"},[s("q-player",{attrs:{muted:t.muteall,src:t.videosrc(e.data[0].video)[0],poster:e.data[0].video.replace(".mp4","_mobile.png")}})],1),s("div",{staticClass:"row zi200 clickevnt mobileheadctl align-center text-pink-dg"},[s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"row text-pink-dg mobileheadctl2 text-subtitle1",attrs:{clickable:"",to:t.auth?"/user/"+e.data[0].modelid:"/profile"}},[s("q-item-section",{attrs:{avatar:""}},[s("q-avatar",{staticClass:"b-borderwhite",attrs:{size:"40px"}},[s("img",{attrs:{src:e.data[0].avatar}})])],1),s("q-item-section",{staticClass:"q-mx-auto"},[s("q-item-label",{staticClass:"q-pa-none p-mb-md text-body2"},[t._v(t._s(e.data[0].tags?e.data[0].tags[0]:"#нет_хэштегов"))]),s("q-item-label",{staticClass:"text-white text-overline",attrs:{caption:"",lines:"2"}},[s("span",{staticClass:"text-subtitle1 text-uppercase text-weight-light text-white text-caption"},[t._v("@"+t._s(e.data[0].modelname))]),s("span",{staticClass:"text-slide-left-right"},[t._v(t._s(e.data[0].example))])])],1),s("q-item-section",{staticClass:"text-white text-weight-light text-overline",attrs:{side:"",bottom:""}},[t._v("\n              "+t._s(0!==t.getdatediff(e.data[0].date).month?t.getdatediff(e.data[0].date).month+" months ago":0!==t.getdatediff(e.data[0].date).day?t.getdatediff(e.data[0].date).day+" days ago":0!==t.getdatediff(e.data[0].date).hr?t.getdatediff(e.data[0].date).hr+" hrs ago":t.getdatediff(e.data[0].date).min+" min ago")+"\n            ")])],1),s("q-tabs",{staticClass:"text-white w-100 q-mx-md q-mt-md",attrs:{dense:"",align:"center"},model:{value:t.tabVideos,callback:function(e){t.tabVideos=e},expression:"tabVideos"}},[s("q-tab",{attrs:{name:"home","content-class":"text-black videotabs",label:"подписки",disable:!t.auth||t.nosubs}},[t.auth?s("q-badge",{attrs:{color:"red",floating:""}},[t._v(t._s(t.pcm.subedvideos.length))]):t._e()],1),s("q-tab",{attrs:{name:"recs","content-class":"text-black videotabs",label:t.auth?"рекомендации":"бесплатные видео",disable:!t.auth}})],1),"recs"!==t.tabVideos||t.pcm.auth?t._e():s("q-tiktoolbar",{attrs:{http:t.http,opencomt:t.cl_openPostComment,index:a,tab:t.tabVideos,liked:e.liked[0],pcm:t.pcm,auth:t.pcm.auth,videodata:e,id:Number(t.pcm.user.id)},model:{value:t.muteall,callback:function(e){t.muteall=e},expression:"muteall"}})],1)])})),1),s("swiper",{directives:[{name:"show",rawName:"v-show",value:"home"===t.tabVideos&&t.pcm.auth,expression:"tabVideos === 'home' && pcm.auth"}],ref:"mySwiper1",staticClass:"swiper vh100 bg-black home",attrs:{options:t.swiperOption,"auto-update":!0,"auto-destroy":!0,"delete-instance-on-destroy":!0,"cleanup-styles-on-destroy":!0},on:{slideChangeTransitionEnd:t.onSwiper}},t._l(t.pcm.subedvideos,(function(e,a){return s("swiper-slide",{key:e.id[0]+a,staticClass:"row vh100 "},[s("div",{staticClass:"absolute-center full-width zi200 vh100"},[s("q-player",{attrs:{muted:t.muteall,src:t.videosrc(e.data[0].video)[0],poster:e.data[0].video.replace(".mp4","_mobile.png")}})],1),s("div",{staticClass:"row zi200 clickevnt mobileheadctl align-center text-pink-dg"},[s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"row text-pink-dg mobileheadctl2 text-subtitle1",attrs:{clickable:"",to:t.auth?"/user/"+e.data[0].modelid:"/profile"}},[s("q-item-section",{attrs:{avatar:""}},[s("q-avatar",{staticClass:"b-borderwhite",attrs:{size:"40px"}},[s("img",{attrs:{src:e.data[0].avatar}})])],1),s("q-item-section",{staticClass:"q-mx-auto"},[s("q-item-label",{staticClass:"q-pa-none p-mb-md text-body2"},[t._v(t._s(e.data[0].tags?e.data[0].tags[0]:"#нет_хэштегов"))]),s("q-item-label",{staticClass:"text-white text-overline",attrs:{caption:"",lines:"2"}},[s("span",{staticClass:"text-subtitle1 text-uppercase text-weight-light text-white text-caption"},[t._v("@"+t._s(e.data[0].modelname))]),s("span",{staticClass:"text-slide-left-right"},[t._v(t._s(e.data[0].example))])])],1),s("q-item-section",{staticClass:"text-white text-weight-light text-overline",attrs:{side:"",bottom:""}},[t._v("\n              "+t._s(0!==t.getdatediff(e.data[0].date).month?t.getdatediff(e.data[0].date).month+" months ago":0!==t.getdatediff(e.data[0].date).day?t.getdatediff(e.data[0].date).day+" days ago":0!==t.getdatediff(e.data[0].date).hr?t.getdatediff(e.data[0].date).hr+" hrs ago":t.getdatediff(e.data[0].date).min+" min ago")+"\n            ")])],1),s("q-tabs",{staticClass:"text-white w-100 q-mx-md q-mt-md",attrs:{dense:"",align:"center"},model:{value:t.tabVideos,callback:function(e){t.tabVideos=e},expression:"tabVideos"}},[s("q-tab",{attrs:{name:"home","content-class":"text-black videotabs",label:"подписки",disable:!t.auth||t.nosubs}},[t.auth?s("q-badge",{attrs:{color:"red",floating:""}},[t._v(t._s(t.pcm.subedvideos.length))]):t._e()],1),s("q-tab",{attrs:{name:"recs","content-class":"text-black videotabs",label:t.auth?"рекомендации":"бесплатные видео",disable:!t.auth}})],1),s("q-tiktoolbar",{attrs:{http:t.http,opencomt:t.cl_openPostComment,index:a,tab:t.tabVideos,liked:e.liked[0],pcm:t.pcm,auth:t.pcm.auth,videodata:e,id:Number(t.pcm.user.id)},model:{value:t.muteall,callback:function(e){t.muteall=e},expression:"muteall"}})],1)])})),1),s("swiper",{directives:[{name:"show",rawName:"v-show",value:"recs"===t.tabVideos&&t.pcm.auth,expression:"tabVideos === 'recs' && pcm.auth"}],ref:"mySwiper2",staticClass:"swiper vh100 bg-black recs",attrs:{options:t.swiperOption,"auto-update":!0,"auto-destroy":!0,"delete-instance-on-destroy":!0,"cleanup-styles-on-destroy":!0},on:{slideChangeTransitionEnd:t.onSwiper}},t._l(t.pcm.unsubedvideos,(function(e,a){return s("swiper-slide",{key:e.id[0]+a,staticClass:"row vh100 "},[s("div",{staticClass:"absolute-center full-width zi200 vh100"},[s("q-player",{attrs:{muted:t.muteall,src:t.videosrc(e.data[0].video)[0],poster:e.data[0].video.replace(".mp4","_mobile.png")}})],1),s("div",{staticClass:"row zi200 clickevnt mobileheadctl align-left text-pink-dg"},[s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"row text-pink-dg mobileheadctl2 text-subtitle1",attrs:{clickable:"",to:t.auth?"/user/"+e.data[0].modelid:"/profile"}},[s("q-item-section",{attrs:{avatar:""}},[s("q-avatar",{staticClass:"b-borderwhite",attrs:{size:"40px"}},[s("img",{attrs:{src:e.data[0].avatar}})])],1),s("q-item-section",{staticClass:"q-mx-none row content-start"},[s("q-item-label",{staticClass:"q-pa-none p-mb-md text-body2"},[t._v(t._s(e.data[0].tags?e.data[0].tags[0]:"#нет_хэштегов"))]),s("q-item-label",{staticClass:"text-white text-overline row",attrs:{caption:"",lines:"2"}},[s("span",{staticClass:"col-6 text-subtitle1 text-uppercase text-weight-light text-white text-caption"},[t._v("@"+t._s(e.data[0].modelname))]),s("span",{staticClass:"col-6  text-slide-left-right"},[t._v(t._s(e.data[0].example))])])],1),s("q-item-section",{staticClass:"text-white text-weight-light text-overline",attrs:{side:"",bottom:""}},[t._v("\n              "+t._s(0!==t.getdatediff(e.data[0].date).month?t.getdatediff(e.data[0].date).month+" months ago":0!==t.getdatediff(e.data[0].date).day?t.getdatediff(e.data[0].date).day+" days ago":0!==t.getdatediff(e.data[0].date).hr?t.getdatediff(e.data[0].date).hr+" hrs ago":t.getdatediff(e.data[0].date).min+" min ago")+"\n            ")])],1),s("q-tabs",{staticClass:"text-white w-100 q-mx-md q-mt-md",attrs:{dense:"",align:"center"},model:{value:t.tabVideos,callback:function(e){t.tabVideos=e},expression:"tabVideos"}},[s("q-tab",{attrs:{name:"home","content-class":"text-black videotabs",label:"подписки",disable:!t.auth||t.nosubs}},[t.auth?s("q-badge",{attrs:{color:"red",floating:""}},[t._v(t._s(t.pcm.subedvideos.length))]):t._e()],1),s("q-tab",{attrs:{name:"recs","content-class":"text-black videotabs",label:t.auth?"рекомендации":"бесплатные видео",disable:!t.auth}})],1),s("q-tiktoolbar",{attrs:{http:t.http,opencomt:t.cl_openPostComment,index:a,tab:t.tabVideos,liked:e.liked[0],pcm:t.pcm,auth:t.pcm.auth,videodata:e,id:Number(t.pcm.user.id)},model:{value:t.muteall,callback:function(e){t.muteall=e},expression:"muteall"}})],1)])})),1)],1),s("swiper-slide",{staticClass:"content"},[s("profile")],1),t.pcm.auth&&t.pcm.user.rol?s("swiper-slide",{staticClass:"content"},[s("v-capture")],1):t._e(),t.pcm.auth?s("swiper-slide",{staticClass:"content"},[s("v-live")],1):t._e(),t.pcm.auth&&t.pcm.user.rol?s("swiper-slide",{staticClass:"content"},[s("v-streaming-page")],1):t._e()],1),s("transition",{attrs:{appear:"","enter-active-class":"animated bounceInUp","leave-active-class":"animated bounceOutDown"}},[s("q-footer",{staticClass:"text-transparent ddd fixed-bottom",attrs:{reveal:"",elevated:"",bordered:""}},[s("q-tabs",{staticClass:"text-black bg-white row",attrs:{"content-class":"overflow-inherit","no-caps":"","indicator-color":"transparent","narrow-indicator":"",align:"center"}},[s("q-tab",{directives:[{name:"ripple",rawName:"v-ripple.center",modifiers:{center:!0}}],staticClass:"col q-pa-none",attrs:{ripple:!1,icon:"videocam"},on:{click:function(e){return t.$root.$emit("changepage",4)}}}),t.pcm.user.rol?s("q-tab",{attrs:{ripple:!1}},[s("q-fab",{staticClass:"fabsFooter",attrs:{icon:"add",direction:"up",color:"dark","vertical-actions-align":"center"}},[s("q-fab-action",{attrs:{anchor:"start","label-class":"oswald-semibold","label-position":"top","text-color":"dark",icon:"live_tv",label:"stream"},on:{click:function(e){return t.$root.$emit("changepage",5)}}}),s("q-fab-action",{attrs:{anchor:"start","label-class":"oswald-semibold","label-position":"top","text-color":"dark",icon:"radio_button_checked",label:"record"},on:{click:function(e){return t.$root.$emit("changepage",3)}}})],1)],1):s("q-tab",{directives:[{name:"ripple",rawName:"v-ripple.center",modifiers:{center:!0}}],staticClass:"col q-pa-none",attrs:{ripple:!1,icon:"home"},on:{click:function(e){return t.$root.$emit("changepage",1)}}}),s("q-tab",{directives:[{name:"ripple",rawName:"v-ripple.center",modifiers:{center:!0}}],staticClass:"col q-pa-none",attrs:{ripple:!1,icon:"account_circle"},on:{click:function(e){return t.$root.$emit("changepage",2)}}})],1)],1)],1)],1):t._e()},i=[],o=(s("fb6a"),s("e6cf"),s("5319"),s("ded3")),l=s.n(o),n=s("c973"),r=s.n(n),c=s("c427"),d=(s("0967"),s("bd4c")),u=s("2f62"),p=(s("dc59"),s("9df1")),m=s("7212"),h=(s("a7a3"),s("ee26")),v=s("5d1f"),g=s("651f"),b={name:"mainMobile",props:["videostag"],components:{Swiper:m["Swiper"],SwiperSlide:m["SwiperSlide"],profile:p["a"],"v-capture":h["a"],"v-live":g["a"],"v-streaming-page":v["a"]},data(){return{loadit:!1,mutedvar:!1,commamount:0,menuOpenedreset:!0,slides:[],videoid:null,sub:"sub",nosubs:!1,auth:!1,swiperindex:{off:0,recs:0,home:0},tabVideos:"recs",models:null,footer:!0,girlsVideos:null,likes:!1,modelonline:!1,one:!0,holdtouch:!0,valdes:[],show2:!0,muteall:!1,commamount:null,loaderstat:!1,textcoms:null,commentsDialog:!1,videosdata:null,openswiper:!0,double:[],mutedid:[],menuOpened:!1,swiperOptionMenu:{initialSlide:1,resistanceRatio:0,lazy:!0,zoom:{enabled:!1,maxRatio:1,minRatio:1,toggle:!1},allowSlideNext:!0,allowSlidePrev:!0,slidesPerGroupSkip:0,observer:!0,snapOnRelease:!1,slidesPerView:"auto"},animation:"fade",modelsubstatus:[],savedtimer:[],slides0:[],slides1:[],show:!0,thumbStyle:{display:"none"},barStyle:{display:"none"},swiperOption:{on:{init:function(){var t=r()((function*(){}));return function(){return t.apply(this,arguments)}}(),slideChange:function(){var t=r()((function*(){var t,e,s;let a=null===(t=this.slides[this.previousIndex])||void 0===t?void 0:t.children[0].children[0].firstChild;var i;(null===(e=a)||void 0===e||e.pause(),a=null===(s=this.slides[this.activeIndex])||void 0===s?void 0:s.children[0].children[0].firstChild,a.playing)||(null===(i=a)||void 0===i||i.play())}));return function(){return t.apply(this,arguments)}}()},lazy:!1,zoom:{enabled:!1,maxRatio:1,minRatio:1,toggle:!1},updateOnWindowResize:!0,direction:"vertical",slidesPerView:1,setWrapperSize:!0,centeredSlides:!0,spaceBetween:0,autoHeight:!0,observer:!0,snapOnRelease:!0,mousewheel:{sensitivity:100,releaseOnEdges:!1},refrech:!1}}},computed:l()({http:()=>c["a"],swipermenu(){var t;return null===(t=this.$refs.swipermenu)||void 0===t?void 0:t.$swiper},swiper(){var t;return null===(t=this.$refs.mySwiper)||void 0===t?void 0:t.$swiper},swiper1(){var t;return null===(t=this.$refs.mySwiper1)||void 0===t?void 0:t.$swiper},swiper2(){var t;return null===(t=this.$refs.mySwiper2)||void 0===t?void 0:t.$swiper}},Object(u["b"])(["pcm"])),updated(){Array.prototype.slice.call(document.getElementsByTagName("video")).map((t=>{t.addEventListener("click",(e=>t.paused?(t.play(),this.loaderstat=!1):(t.pause(),this.loaderstat=!0)))}))},watch:{show:function(t){t||(this.$refs.bar.start(),this.$nextTick((()=>{this.$refs.bar.stop()})))},tabVideos:function(t){Array.prototype.slice.call(document.getElementsByTagName("video")).map((t=>{(null===t||void 0===t?void 0:t.paused)||null===t||void 0===t||t.pause()})),"home"===t?this.pcm.subedvideos.length>0?this.$nextTick((()=>{this.reRender()})):this.$nextTick((()=>{this.norecs(),this.nosubs=!0,this.reRender()})):"recs"===t&&this.$nextTick((()=>{this.reRender()}))}},mounted(){this.$root.$on("page",(t=>{console.log("page:",t)})),this.$root.$on("changepage",(t=>{var e;Array.prototype.slice.call(document.getElementsByTagName("video")).map((t=>{t.pause()})),null===(e=this.swipermenu)||void 0===e||e.slideTo(t,500,!1)})),this.reRender2(),this.$root.$on("tagsRefreshEvent",(t=>{this.reRender()})),setTimeout((()=>{this.refrech&&location.reload(),Array.prototype.slice.call(document.getElementsByTagName("video")).map((t=>{t.addEventListener("click",(e=>t.paused?(t.play(),this.loaderstat=!1):(t.pause(),this.loaderstat=!0)))}))}),1e3)},created(){this.beforeShow(this.pcm.subedvideos,this.pcm.unsubedvideos,this.pcm.offlinevideos).then((t=>{this.$store.dispatch("pcm/updateSlides",{status:t}),this.slides0=this.pcm.subedvideos,this.slides1=this.pcm.unsubedvideos,this.pcm.auth||(this.slides1=this.pcm.offlinevideos),this.auth=this.pcm.auth}))},beforeMount(){},cl_openPostComment(t,e,s){if(this.auth){let s=document.getElementById(t);this.$nextTick((()=>{null===s||void 0===s||s.pause(),this.commamount=e,this.videoid=t,this.$socket.emit("s_getcomments",{token:this.pcm.user.tk,videoid:t})}))}else this.$root.$emit("changepage",2)},beforeDestroy(){this.$router.beforeEach(((t,e,s)=>{var a,i;let o=document.getElementById(null===(a=this.pcm.slides[null===(i=this.swiper)||void 0===i?void 0:i.activeIndex])||void 0===a?void 0:a.id[0]);null===o||void 0===o||o.pause(),s()}))},sockets:{cl_getAllMassage:function(t){var e;t.id&&("try to signin"==t.status?null===(e=this.swipermenu)||void 0===e||e.slideTo(2,700,!1):this.$root.$emit("videocomments",{id:t.id,res:t.comments}))},cl_likeStatus:function(t){"try to signin"==t.status?this.$router.push("profile"):this.$store.dispatch("pcm/liking",l()(l()({},t),{},{tab:this.tabVideos}))},authStatus:function(){this.reRender()}},methods:{onMenuSlideChange:function(){var t;this.footer=2!==(null===(t=this.swipermenu)||void 0===t?void 0:t.activeIndex)},menuOpenedReset:function(){this.menuOpenedreset=!1,this.$nextTick((()=>{this.menuOpenedreset=!0}))},toggleMenu(t){this.menuOpened?(this.menuOpened=!1,this.swipermenu.slideNext(700,!1),this.$nextTick((()=>{this.menuOpenedReset()}))):(this.menuOpened=!0,this.swipermenu.slidePrev(700,!1),this.$nextTick((()=>{this.menuOpenedReset()})))},onSwiper(){Array.prototype.slice.call(document.getElementsByClassName("playpause")).map((t=>{t.style.display="none"}))},setIndex(t){"recs"===this.tabVideos?(this.swiperindex.off=t,this.swiperindex.recs=t):this.swiperindex.home=t},videosrc:function(t){return[t.replace(".mp4","_mobile.mp4")]},fullscreen:function(){this.$root.$emit("fullscreen",{state:!this.pcm.controls.fullscreen})},clickedvideo(){console.log("ok")},slidechangeControls(){var t;null===(t=this.swiper)||void 0===t||t.on("slideChange",(()=>{var t,e;let s=document.getElementById(null===(t=this.pcm.slides[null===(e=this.swiper)||void 0===e?void 0:e.previousIndex])||void 0===t?void 0:t.id[0]);null===s||void 0===s||s.pause(),this.$nextTick((()=>{var t,e;let s=document.getElementById(null===(t=this.pcm.slides[null===(e=this.swiper)||void 0===e?void 0:e.activeIndex])||void 0===t?void 0:t.id[0]);this.$nextTick((()=>{(null===s||void 0===s?void 0:s.paused)&&(null===s||void 0===s||s.play())}))}))}))},beforeShow:function(){var t=r()((function*(t,e,s){return this.pcm.auth?"home"===this.tabVideos?t.length>0?"subed":(this.tabVideos,"unsubed"):"unsubed":"offline"}));return function(e,s,a){return t.apply(this,arguments)}}(),norecs:function(){this.$q.notify({color:"pink-6",message:"0 подписчики",position:"center"})},progressof(){this.openswiper=!1},reRender:function(){this.show=!1,this.$nextTick((()=>{var t;this.show=!0,null===(t=this.swiper)||void 0===t||t.destroy(),this.$nextTick((()=>{var t;null===(t=this.swiper)||void 0===t||t.update()}))}))},reRender2:function(){setTimeout((()=>{this.show2=!1,this.$nextTick((()=>{var t;this.show2=!0,null===(t=this.swiper)||void 0===t||t.destroy(),this.$nextTick((()=>{var t;null===(t=this.swiper)||void 0===t||t.update()}))}))}),1e3),Array.prototype.slice.call(document.getElementsByTagName("video")).map((t=>{t.addEventListener("click",(e=>t.paused?(t.play(),this.loaderstat=!1):(t.pause(),this.loaderstat=!0)))}))},getdatediff(t){let e=new Date(t),s=new Date,a=t=>d["b"].getDateDiff(s,e,t);return{month:a("months"),day:a("days"),hr:a("hours"),min:a("minutes")}},onleft:function(){this.$router.push("/profile")},delay:(t,e)=>new Promise((s=>{setTimeout(s.bind(null,e),t)})),getplyrconfig(t){return'{ "controls": ["play-large"], "playsinline": true, "autoplay": '+(0==t)+" }"},cl_openPostComment(t,e,s){if(this.auth){let s=document.getElementById(t);this.$nextTick((()=>{null===s||void 0===s||s.pause(),this.commamount=e,this.videoid=t,this.$socket.emit("s_getcomments",{token:this.pcm.user.tk,videoid:t})}))}else this.$root.$emit("changepage",1)}}},f=b,x=(s("533c"),s("2877")),w=s("9989"),k=s("7ea5"),q=s("66e5"),y=s("4074"),C=s("cb32"),_=s("0170"),$=s("429b"),S=s("7460"),M=s("58a8"),R=s("7ff0"),L=s("7867"),Q=s("c294"),T=s("72db"),j=s("4e73"),I=s("1c1c"),D=s("714f"),z=s("eebe"),V=s.n(z),O=Object(x["a"])(f,a,i,!1,null,"7840fc0f",null);e["default"]=O.exports;V()(O,"components",{QPage:w["a"],QAjaxBar:k["a"],QItem:q["a"],QItemSection:y["a"],QAvatar:C["a"],QItemLabel:_["a"],QTabs:$["a"],QTab:S["a"],QBadge:M["a"],QFooter:R["a"],QRouteTab:L["a"],QFab:Q["a"],QFabAction:T["a"],QMenu:j["a"],QList:I["a"]}),V()(O,"directives",{Ripple:D["a"]})},"7d8b":function(t,e,s){},8094:function(t,e,s){},"83b3":function(t,e,s){"use strict";s("bdb2")},9881:function(t,e,s){"use strict";s("7d8b")},"9df1":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-white fullpage flex-center-vertical text-black"},[t.nnologin?s("div",[t.ismodel?s("div",[s("transition",{attrs:{name:"slide"}},[s("mmodel",{staticClass:"fullpage",attrs:{pravite:!0}})],1)],1):t._e(),t.ismodel?t._e():s("div",[s("transition",{attrs:{name:"slide"}},[s("muser",{staticClass:"fullpage",attrs:{pravite:!0}})],1)],1)]):t._e(),t.nnologin?t._e():s("div",[s("q-btn",{staticClass:"mbackbut",attrs:{flat:"",icon:"arrow_back",size:"2vh"},on:{click:function(e){return t.routeback()}}}),s("p",{staticClass:"flex flex-center text-m-24  q-ma-none"},[t._v("Вход")]),s("q-form",{staticClass:"flex flex-center "},[s("q-input",{staticClass:"w-100 q-mt-md q-mx-lg",attrs:{"input-class":"text-h6 text-weight-regular text-left q-mb-xs q-ml-md q-py-xs q-px-xs",outlined:"",dense:"",rounded:"",placeholder:"Логин"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("q-input",{staticClass:"w-100 q-mt-md q-mx-lg",attrs:{dense:"",outlined:"","input-class":"text-h6 text-weight-regular text-left q-mb-xs q-ml-md q-py-xs q-px-xs",type:"password",rounded:"",placeholder:"Пароль"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("div",{staticClass:"w-vw-90  mt-vh-2 flex-center-div"},[s("q-btn",{staticClass:"text-m-sm minheightbutfix",attrs:{label:"Забыли пароль?",color:"pink-6",flat:""},on:{click:function(e){return t.resetpass()}}})],1),s("q-btn",{staticClass:"w-vw-40  mt-vh-3",attrs:{label:"Войти",dense:"",rounded:"",color:"pink-6"},on:{click:function(e){return t.signinstart()}}})],1)],1),t.signupform?s("div",{staticClass:"w-100"},[s("q-btn",{staticClass:"mbackbut",attrs:{flat:"",icon:"arrow_back",size:"2vh"},on:{click:function(e){return t.routesig()}}}),s("p",{staticClass:"q-mt-none mb-vh-2 mt-vh-2 text-m-24  text-center"},[t._v("\n      Регистрация\n    ")]),s("q-form",{staticClass:"w-vw-90 ma-auto"},[s("q-input",{ref:"user",staticClass:"w-100 q-mt-md ",attrs:{placeholder:"Ваш логин",rounded:"",outlined:"","lazy-rules":"","input-class":"text-h6 text-weight-regular text-left q-mb-xs q-ml-md q-py-xs q-px-xs",type:"text",rules:[function(t){return t&&t.length>0||"Укажите ваше имя"}]},on:{input:function(e){return t.eventValidRed()}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("q-input",{staticClass:"w-100 q-mt-md ",attrs:{placeholder:"Email",outlined:"",rounded:"","lazy-rules":"","input-class":"text-h6 text-weight-regular text-left q-mb-xs q-ml-md q-py-xs q-px-xs",type:"email",rules:[function(e){return t.validateEmail(e)&&e.length>0||"Укажите email"}]},on:{input:function(e){return t.eventValidRed()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("q-input",{staticClass:"w-100 q-mt-md ",attrs:{placeholder:"Пароль",outlined:"",rounded:"","lazy-rules":"","input-class":"text-h6 text-weight-regular text-left q-mb-xs q-ml-md q-py-xs q-px-xs",type:"password",rules:[function(t){return t&&t.length>0||"Придумайте пароль"}]},on:{input:function(e){return t.eventValidRed()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("q-input",{ref:"pass",staticClass:"w-100 q-mt-md ",attrs:{placeholder:"Повторите пароль",type:"password",outlined:"",rounded:"","input-class":"text-h6 text-weight-regular text-left q-mb-xs q-ml-md q-py-xs q-px-xs","lazy-rules":"",rules:[function(e){return e==t.password&&e.length>0||"Пароли не совпадают!"}]},on:{input:function(e){return t.eventValidRed()}},model:{value:t.passAgain,callback:function(e){t.passAgain=e},expression:"passAgain"}}),s("q-checkbox",{staticClass:"mt-vh-2 mobilepadding mx-vw-1 text-subtitle2",attrs:{color:"green",size:"5vh"},on:{input:function(e){return t.eventValidRed()}},model:{value:t.okay,callback:function(e){t.okay=e},expression:"okay"}},[s("p",{staticClass:"text-comment-14 gray-1337 q-ma-none "},[t._v("\n          Согласие на обработку моих персональных данных\n        ")])]),s("div",[s("q-btn",{staticClass:"full-width q-mt-md",attrs:{label:"Подтвердить",outline:"",rounded:"","text-color":"pink"},on:{click:function(e){return t.createUser()}}}),s("div",{staticClass:"text-center q-mt-sm"},[s("p",{staticClass:"q-mb-sm"},[t._v("или")])]),s("q-btn",{staticClass:"full-width",attrs:{label:"Уже есть аккаунт?",outline:"",rounded:"","text-color":"pink"},on:{click:function(e){t.signUp=!1}}})],1),s("div",{staticClass:"d-flex"},[s("q-btn",{staticClass:"w-vw-40 text-comment-14 btnwhitedis ml-auto mr-auto  mt-vh-4 h-vh-1080-50px",attrs:{label:"Зарегистрироваться","text-color":"black",dense:"",rounded:"",color:"pink-6",disable:!t.validateReg},on:{click:function(e){return t.createUser()}}})],1)],1)],1):t._e(),t.resetPass?s("div",{staticClass:"w-100"},[s("q-btn",{staticClass:"mbackbut",attrs:{flat:"",icon:"arrow_back",size:"2vh"},on:{click:function(e){return t.routesig()}}}),s("p",{staticClass:"q-mt-none mb-vh-2 mt-vh-2 text-m-24 text-center"},[t._v("\n      Восстановление\n    ")]),s("q-form",[s("p",{staticClass:"q-mt-none mb-vh-2 mt-vh-2 text-comment-18 textgray text-center"},[t._v("\n        Введите e-mail, чтобы восстановить пароль."),s("br"),t._v("Мы пришлем инструкцию\n        на указанную почту."),s("br"),t._v("Если вы не получили письмо в течение 10"),s("br"),t._v("минут,\n        проверьте папку «Спам».\n      ")]),s("q-input",{staticClass:"mt-vh-2 text-comment-14  mobilepadding w-vw-90 ma-auto h-vh-5-st q-pa-none",attrs:{label:"Email",outlined:"","lazy-rules":"",type:"email",rules:[function(e){return t.validateEmail(e)&&e.length>0||"Укажите email"}]},on:{input:function(e){return t.eventValidReset()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("div",{staticClass:"d-flex"},[s("q-btn",{staticClass:"w-vw-40 text-comment-14 btnwhitedis ml-auto mr-auto  mt-vh-4 h-vh-1080-50px",attrs:{label:"Восстановить","text-color":"black",dense:"",rounded:"",color:"pink-6",disable:!t.validateReset},on:{click:function(e){return t.resetPassword()}}})],1)],1)],1):t._e(),s("div",{staticClass:"authbot"},[t.nologin?s("div",{staticClass:"flex-center-div"},[s("p",{staticClass:"textgray w-mxc  q-ma-none"},[t._v("\n        Ещё нет аккаунта?\n        "),s("q-btn",{staticClass:"text-m-sm minheightbutfix",attrs:{label:"Зарегистрируйтесь",color:"pink-6",flat:""},on:{click:function(e){return t.signup()}}})],1)]):t._e()]),t.nologin||null!=t.ismodel||t.signupform||t.resetPass?t._e():s("div",{staticClass:"w-100 d-flex"},[s("q-spinner",{staticClass:"ma-auto",attrs:{color:"pink-6",size:"15vw"}})],1)])},i=[],o=s("ded3"),l=s.n(o),n=s("2f62"),r=s("c427"),c=s("549a"),d=s("a1f4"),u={name:"profile",components:{mmodel:c["a"],muser:d["a"]},data(){return{ismodel:!1,nnologin:!1,nologin:!1,regname:null,regemail:null,signupform:!1,accept:!1,roles:"USER",username:new String(""),email:new String(""),password:new String(""),passAgain:new String(""),validateAuth:!1,okay:!1,validateReg:!1,validateReset:!1,resetPass:!1,resetUrlPass:!1,resetcode:new String(""),resertusername:new String(""),resetPasswordInput:new String(""),resetTryPasswordInput:new String(""),validateNewPass:!1}},computed:l()({},Object(n["b"])(["pcm"])),beforeMount(){this._G.fotervisible=!1,this.ismodel=this.pcm.user.rol,this.auth=this.pcm.auth,this.token=this.pcm.user.tk,this.username=this.pcm.user.un,this.userid=this.pcm.user.id,this.nnologin=this.auth},methods:{onright:function(){this.$router.push("/")},createUser(){var t={username:this.username,password:this.password,roles:[],email:this.email};this.$refs.user.validate(),this.$refs.pass.validate(),this.$refs.user.hasError||this.$refs.pass.hasError?this.formHasError=!0:(r["a"].post("/signup",t).then((t=>{"ok"==t.data.mess?(this.$q.notify({message:"успешная регистрация можете войти",color:"green"}),this.routesig()):this.$q.notify({message:`Ошибка регистрации попробуйте позднее: \n ${t.data.status}`,multiLine:!0,color:"red"}),this.routesig()})),this.sign=!1)},validateNewPassE(){this.validateNewPass=this.resetPasswordInput==this.resetTryPasswordInput&&this.resetPasswordInput.length>0},validateEmail(t){const e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(t).toLowerCase())},eventValidReset(){this.validateReset=this.validateEmail(this.email)},eventValidRed(){this.validateReg=this.password.length>0&&this.username.length>0&&this.passAgain.length>0&&this.validateEmail(this.email)&&this.okay},eventValidAuth(){this.validateAuth=this.password.length>0&&this.username.length>0},resetPassword(){let t={email:this.email};r["a"].post("/passwordrecovery",t).then((t=>{"ok"==t.data.status?(this.$q.notify("email успешно отправлен"),this.routesig()):this.$q.notify("Пользователь не найден или не существует")}))},routeback(){this.$root.$emit("changepage",1)},routesig(){this.signin()},signup(){this.resetPass=!1,this.nologin=!1,this.signupform=!0,this.nnologin=!1},signin(){this.resetPass=!1,this.nologin=!0,this.signupform=!1,this.nnologin=!1},resetpass(){this.resetPass=!0,this.signupform=!1,this.nologin=!1,this.nnologin=!1},signupstart(){this.nologin=!1,this.signupform=!1;var t={username:this.username,password:this.password,roles:this.roles,name:this.regname,email:this.regemail};r["a"].post("/signup",t).then((t=>{"ok"==t.data.mess?(this.$q.notify({message:"успешная регистрация можете войти",color:"green"}),this.nologin=!0,this.signupform=!1,this.nnologin=!1):"false"==t.data.auth?(this.$q.notify(t.data.reason),this.nologin=!1,this.signupform=!0,this.nnologin=!1):(this.nologin=!1,this.signupform=!0,this.nnologin=!1)})).catch((t=>{"Username is already taken!"===t.response.data.status?this.$q.notify({message:"логин занят",color:"purple"}):"Email is already in use!"===t.response.data.status&&this.$q.notify({message:"email занят",color:"purple"}),this.nologin=!1,this.signupform=!0,this.nnologin=!1}))},signinstart(){this.nologin=!1,this.signupform=!1;var t={username:this.username,password:this.password};r["a"].post("/signin",t).then((t=>{if("ok"==t.data.stat){this.nologin=!1,this.signupform=!0;t.data.name;const e=t.data.reason,s=this.username,a=t.data.userId;this.$q.sessionStorage.set("sspcm",{sstk:e,ssur:s,ssuid:a,ssun:s,ssrol:t.data.model}),this.$q.cookies.set("sspcm",{sstk:e,ssur:s,ssuid:a,ssun:s,ssrol:t.data.model},{expires:"1d"}),this.nologin=!1,this.signupform=!1,this.auth=!1,this.nnologin=!1,location.reload()}else this.$q.notify(t.data.reason),this.nologin=!0,this.signupform=!1,this.nnologin=!1}))}}},p=u,m=s("2877"),h=s("9c40"),v=s("0378"),g=s("27f9"),b=s("8f8e"),f=s("0d59"),x=s("eebe"),w=s.n(x),k=Object(m["a"])(p,a,i,!1,null,null,null);e["a"]=k.exports;w()(k,"components",{QBtn:h["a"],QForm:v["a"],QInput:g["a"],QCheckbox:b["a"],QSpinner:f["a"]})},a1f4:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-vw-100 h-vh-100"},[s("q-toolbar",{staticClass:"text-black row justify-between absolute"},[s("q-btn",{staticClass:"maxc-w align-start",attrs:{flat:"",size:"2vh"},on:{click:function(e){return t.routeback()}}}),s("q-fab",{staticClass:"maxc-w self-end",attrs:{icon:"more_horiz",direction:"down","vertical-actions-align":"right"}},[s("q-fab-action",{staticClass:"w-fav",attrs:{color:"pink-3",outline:"","text-color":"black",to:"/profile/settings",label:"Настройки",icon:"mail"}}),s("q-fab-action",{staticClass:"w-fav",attrs:{color:"pink-3",outline:"","text-color":"black",label:"Выйти",icon:"power_settings_new"},on:{click:function(e){return t.logout()}}})],1)],1),s("q-separator"),s("div",{staticClass:"w-100 h-100  q-px-xs q-mt-md"},[s("div",{staticClass:"row "},[s("div",{staticClass:"row col-12 flex text-center "},[s("div",{staticClass:"col-12"},[s("q-avatar",{attrs:{size:"100px"}},[s("img",{staticClass:"b-border-1",attrs:{src:t.thisModel.avatars}})])],1),s("p",{staticClass:"text-black text-h5 text-uppercase text-weight-light col-12 q-mb-none"},[t._v("@"+t._s("Y"===t.thisModel.ismodel?t.thisModel.name:t.thisModel.username))])]),s("div",{staticClass:"col-12 text-center"},[t.showbar?s("q-profilebar",{attrs:{id:t.thisModel.id,notpravite:t.pravite}}):t._e()],1),s("div",{staticClass:"col-12 text-center"},[s("p",[s("b",{staticClass:"text-black text-overline text-subtitle1"},[t._v("Ваш баланс "),s("kbd",[t._v(t._s(t.bal?t.bal:"0.00")+" ₮ ")])])]),s("q-btn",{staticClass:"w-vw-40",attrs:{color:"pink-13",rounded:"",label:"Купить токены"},on:{click:function(e){return t.deposit()}}}),s("q-dialog",{model:{value:t.deposit_dialog,callback:function(e){t.deposit_dialog=e},expression:"deposit_dialog"}},[s("q-card",{staticClass:"q-px-md flex flex-center text-center",attrs:{color:"white",square:""}},[t.yad?s("div",[s("p",{staticClass:"text-center"}),s("q-table",{attrs:{dense:"",title:"Счет на токены №"+t.order_id,data:t.dataschet,columns:t.columns,"hide-pagination":""}}),s("p",{staticClass:"text-center"},[t._v("Платежи принимаются любыми картами выпущенными Российскими банками в рублях РФ, срок зачисления платежа зависит от вашего банка и обычно составляет от 1 минуты до 3 рабочих дней")]),s("form",{attrs:{method:"POST",action:"https://money.yandex.ru/quickpay/confirm.xml"}},[s("input",{attrs:{type:"hidden",name:"receiver",value:"4100115505163705"}}),s("input",{attrs:{type:"hidden",name:"formcomment",value:"Токены"}}),s("input",{attrs:{type:"hidden",name:"short-dest",value:"Покупка токенов"}}),s("input",{attrs:{type:"hidden",name:"label"},domProps:{value:t.amount_deposit}}),s("input",{attrs:{type:"hidden",name:"quickpay-form",value:"donate"}}),s("input",{attrs:{type:"hidden",name:"targets"},domProps:{value:t.order_id}}),s("input",{attrs:{type:"hidden",name:"sum","data-type":"number"},domProps:{value:t.amount_deposit}}),s("input",{attrs:{type:"hidden",name:"comment",value:"Токены"}}),s("input",{attrs:{type:"hidden",name:"need-fio",value:"false"}}),s("input",{attrs:{type:"hidden",name:"need-email",value:"false"}}),s("input",{attrs:{type:"hidden",name:"need-phone",value:"false"}}),s("input",{attrs:{type:"hidden",name:"need-address",value:"false"}}),s("input",{attrs:{type:"hidden",name:"paymentType",value:"AC"}}),s("q-btn",{staticClass:"no-shadow q-mx-lg q-mt-lg",attrs:{color:"pink-13",rounded:"",type:"submit",label:"Согласен перейти в кассу"}})],1)],1):s("div",[s("p",{staticClass:"text-center text-h6 q-mx-md"},[t._v("укажите сумму в рублях ниже")]),s("q-input",{staticClass:"b-border q-mx-md ",attrs:{filled:"",placeholder:"#.##",hint:1*t.amount_deposit+" ₮ = "+(t.rates?5*t.rates.rates.RUB*t.amount_deposit:"error api")+" RUB",mask:"?.##T",color:"black","input-class":"text-subtitle1 text-center q-py-none q-my-none q-placeholder2 ",type:"number"},model:{value:t.amount_deposit,callback:function(e){t.amount_deposit=t._n(e)},expression:"amount_deposit"}}),s("q-btn",{staticClass:"no-shadow q-mx-auto q-px-md q-my-md text-overline text-weight-regular",attrs:{color:"black",rounded:"",outline:"",label:"Перейти в кассу"},on:{click:function(e){return t.depositstart()}}})],1)])],1)],1)]),s("div",{staticClass:"row w-100 h-100 q-mt-xs "},[s("q-scroll-area",{staticClass:"w-100 h-vh-54",attrs:{"thumb-style":t.thumbStyle,"bar-style":t.barStyle}},[s("div",{staticClass:"row w-100"},t._l(t.vidos,(function(e,a){return s("div",{key:e._id,class:[{"ml-09":a%3!=0},"w-32","q-pa-none","q-mt-xs"]},[e._source.body?s("div",{staticClass:"bg-black rounded-borders videoprofile"},[s("vue-plyr",{staticClass:"mute-right"},[s("video",{staticClass:"col-12 videoprofile-inter",attrs:{controls:"false","data-plyr-config":'{ "controls": ["play-large","play","mute"]}',id:e._id,src:e._source.body.video.replace(".mp4","_mobile.mp4"),color:"black",type:"video/mp4"}})]),s("q-icon",{staticClass:"z-index-video",attrs:{name:"zoom_out_map",color:"white",size:"20px"},on:{click:function(s){return t.openfullvideo(e)}}})],1):t._e()])})),0)]),s("q-dialog",{attrs:{position:"bottom","transition-show":"bounceIn"},model:{value:t.fullvideo.open,callback:function(e){t.$set(t.fullvideo,"open",e)},expression:"fullvideo.open"}},[t.fullvideo.video?s("q-card",{staticClass:"profilefullvideo"},[s("vue-plyr",{staticClass:"mute-right"},[s("video",{ref:"dialogVideo",attrs:{controls:"false","data-plyr-config":'{ "controls": ["mute"]}',src:t.fullvideo.video.video,color:"black",type:"video/mp4"},on:{play:t.setProgressBar}})]),s("q-linear-progress",{attrs:{value:t.fullvideo.progress,color:"pink"}}),s("q-card-section",{staticClass:"row items-center no-wrap"},[s("div",{staticClass:"text-left"},[s("div",{staticClass:"text-weight-bold text-uppercase"},[t._v("@"+t._s(t.fullvideo.video.modelname?t.fullvideo.video.modelname:"none"))]),s("div",{staticClass:"text-grey"},[t._v(t._s(t.fullvideo.video.example?t.fullvideo.video.example:"#none"))])]),s("q-space"),s("q-btn",{attrs:{flat:"",round:"",icon:"play_arrow"},on:{click:function(e){return t.$refs.dialogVideo.play()}}}),s("q-btn",{attrs:{flat:"",round:"",icon:"pause"},on:{click:function(e){return t.$refs.dialogVideo.pause()}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",icon:"close"}})],1)],1):t._e()],1)],1)])],1)},i=[],o=s("c427"),l=s("18d6"),n={name:"PageIndex",components:{},props:["pravite"],data(){return{yad:!1,pcm:null,order_id:0,deposit_dialog:!1,amount_deposit:1,bal:0,podpis:0,fullvideo:{id:!1,video:null,open:null,progress:0},name:l["a"].getItem("username"),vidos:[],columns:[{name:"amount",align:"center",label:"Кол-во",field:"amount"},{name:"price",align:"center",label:"Цена",field:"price"},{name:"curr",align:"center",label:"Валюта",field:"curr"},{name:"summ",align:"center",label:"Сумма",field:"summ"}],podpleight:0,followers:0,likes:0,showbar:!1,thisModel:{id:null,avatars:null,createdAt:null,is_vip:null,name:null,pub_streamid:null,sec_streamid:null,updatedAt:null,videos:{}},thumbStyle:{display:"none"},barStyle:{display:"none"},dataschet:[]}},sockets:{cl_getuserinfos:function(t){this.showbar=!0,this.thisModel=t,this.vidos=t.videos,this.followers=t.subscribers,this.podpleight=t.subscribing}},beforeMount(){this.pcm=this.$store.state.pcm,this.getdata(this.$route.params.modelid)},mounted(){Object(o["a"])({method:"get",url:"/balance",headers:{"x-access-token":this.pcm.user.tk}}).then((t=>{this.bal=t.data.balance}))},methods:{setProgressBar(t){const e=setInterval((()=>{this.fullvideo.progress=t.target.currentTime/t.target.duration,(t.target.currentTime===t.target.duration||t.target.paused)&&clearInterval(e)}),100)},openfullvideo(t){this.fullvideo.video=t._source.body,this.fullvideo.open=!0,this.fullvideo.id=t._id},getdata:function(t){this.$socket.emit("getuserinfoprofile",{id:t||this.pcm.user.id})},routeback(){this.$router.push("/")},depositstart(){Object(o["a"])({method:"get",url:"/depositstarVideoPlayert",headers:{"x-access-token":this.pcm.user.tk,amount:this.amount_deposit}}).then((t=>{this.order_id=t.data.link.id,this.yad=!0,this.dataschet=[{amount:this.amount_deposit,price:1,curr:"RUB",summ:this.amount_deposit}]}))},deposit(){this.deposit_dialog=!0},logout(){this.pcm.user.tk;this.$q.sessionStorage.remove("sspcm"),this.$q.cookies.remove("sspcm"),Object(o["a"])({method:"get",url:"/logout",headers:{"x-access-token":this.pcm.user.tk}}).then((t=>{this.$router.push("/"),this.nologin=!0,this.nnologin=!1,location.reload()}))}}},r=n,c=s("2877"),d=s("65c6"),u=s("9c40"),p=s("c294"),m=s("72db"),h=s("eb85"),v=s("cb32"),g=s("24e8"),b=s("f09f"),f=s("27f9"),x=s("eaac"),w=s("4983"),k=s("0016"),q=s("6b1d"),y=s("a370"),C=s("2c91"),_=s("7f67"),$=s("eebe"),S=s.n($),M=Object(c["a"])(r,a,i,!1,null,null,null);e["a"]=M.exports;S()(M,"components",{QToolbar:d["a"],QBtn:u["a"],QFab:p["a"],QFabAction:m["a"],QSeparator:h["a"],QAvatar:v["a"],QDialog:g["a"],QCard:b["a"],QInput:f["a"],QTable:x["a"],QScrollArea:w["a"],QIcon:k["a"],QLinearProgress:q["a"],QCardSection:y["a"],QSpace:C["a"]}),S()(M,"directives",{ClosePopup:_["a"]})},bdb2:function(t,e,s){},cb1d:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyNC4yLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0idmlicm8yMDAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMyIDMyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzMiAzMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6I0ZFMkM1NTt9DQo8L3N0eWxlPg0KPGc+DQoJPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMTYiIGN5PSIxNiIgcj0iMTYiLz4NCgk8Zz4NCgkJPHBhdGggZD0iTTE4LjcsMjEuNWMtMy40LDAuOC0zLjUtMC40LTMuNS0wLjRjMCwwLTAuMS0wLjYsMS4xLTEuMWMxLjgtMC44LDYuNS0zLjEsNy4yLTcuNWMwLjItMS40LTAuMy0zLjYtMS43LTUuMQ0KCQkJYzAsMC0wLjEtMC4xLTAuMS0wLjFjLTAuOS0wLjktMS42LTEtMi40LTAuOEMxOCw2LjcsMTcsOC4zLDE3LDkuNGMwLDEsMC40LDIuMywwLjUsMi40YzAsMCwwLDAsMCwwYzAuNywxLjIsMC42LDIuOC0wLjUsMy45DQoJCQlsLTYuNSw2LjVjLTAuNiwwLjYtMS40LDAuOS0yLjMsMC45cy0xLjYtMC4zLTIuMy0wLjljLTEuMy0xLjMtMS4zLTMuMywwLTQuNWw2LjMtNi4zYzEuNy0xLjcsNC4xLTUuOCw2LjUtNi41DQoJCQljMS4zLTAuNCwyLjcsMC4yLDQsMS41bDAsMGMxLjUsMS41LDIuNiw0LDIuMiw2LjVDMjMuOSwxNy43LDIxLDIxLDE4LjcsMjEuNXoiLz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg=="},d84f:function(t,e,s){},ee26:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fit"},[t.isValid?s("section",{directives:[{name:"touch",rawName:"v-touch:swipe.right",value:t.gohome,expression:"gohome",arg:"swipe",modifiers:{right:!0}}],staticClass:"row  "},[s("div",{class:[t.activeC,"flex","justify-center","bg-black","w-vw-100"]},[s("vue-plyr",{attrs:{crossorigin:"",hideControls:""}},[t.splayer?s("video",{ref:"videoRec",class:[t.activeC,"video-fit3","bg-black","col-12"],attrs:{"data-plyr-config":'{ "controls": ["mute"]}',poster:"https://rec.camsguns.com/stream.png",muted:"",src:"",loop:"",autoplay:"",preload:"",metadata:"",playsinline:""},domProps:{muted:!0}}):t._e()]),t.splayer?t._e():s("vue-plyr",{attrs:{controls:"",crossorigin:""}},[s("video",{ref:"videoRec2",class:[t.activeC2,"video-fit2","bg-black","col-12"],attrs:{"data-plyr-config":'{ "controls": ["play-large"]}',muted:"",src:"",loop:"",autoplay:"",preload:"",metadata:"",playsinline:""},domProps:{muted:!0}})]),t.videoRecorder?[s("VueRecordVideo",{staticClass:"fixed col-6",attrs:{mode:"press"},on:{stream:t.onStream,result:t.onResult}})]:t._e()],2),t.videoinfos?s("div",{staticClass:"col-12 h-vh-60 z-100 bg-white"},[s("div",{staticClass:"row mt-5 pa-vh-1"},[s("div",{staticClass:"col-12"},[s("q-input",{staticClass:"text-body1",attrs:{outlined:"","input-class":"q-mx-xs text-weight-light",square:"",placeholder:"название видео..."},model:{value:t.example,callback:function(e){t.example=e},expression:"example"}})],1),s("div",{staticClass:"col-12 mt-5"},[s("q-input",{staticClass:"text-body1",attrs:{"input-class":"q-mx-xs text-weight-light",outlined:"",placeholder:"хэштеги через пробел"},on:{input:t.chenged},model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}})],1),s("div",{staticClass:"row col-12 justify-between mt-5"},[s("q-btn",{staticClass:"q-px-none q-mx-auto w-40 q-py-none q-mx-none text-weight-regular q-ml-xs",attrs:{dense:"",rounded:"",color:"pink-6","no-caps":"",label:"Отмина"},on:{click:function(e){return t.gohome()}}}),s("q-btn",{staticClass:"q-px-none q-mx-auto w-40 q-py-none q-mx-none text-weight-regular q-ml-xs",attrs:{dense:"",rounded:"",color:"pink-6",disable:!t.notempty,"no-caps":"",label:"Опубликовать"},on:{click:t.uploadvid}})],1),s("q-linear-progress",{staticClass:"q-mt-sm",attrs:{size:"25px",value:t.progress,"track-color":"red",stripe:"",color:"pink-7"}})],1)]):t._e()]):t._e(),t.startupload?s("section",{staticClass:"text-white fit fixed flex flex-center  bg-beage"},[s("div",{staticClass:"justify-center row"},[s("q-avatar",{staticStyle:{border:"1px solid #ffffff","border-radius":"30px"},attrs:{icon:"videocam"}}),s("q-avatar",{staticStyle:{border:"1px solid #ffffff","border-radius":"30px"},attrs:{icon:"backup"}}),s("p",{staticClass:"q-px-xl q-mt-md q-mx-lg text-center",staticStyle:{"font-size":"4vw"}},[t._v("\n            Вы собираетесь записать или загрузить видео?\n          ")]),s("q-btn",{staticClass:"text-red bg-white text-weight-bold col-7 h-vh-5",staticStyle:{"border-radius":"30px"},on:{click:t.resetVideo}},[t._v("Записать")]),s("q-file",{staticClass:"col-7 q-mt-lg h-vh-5 bg-white",staticStyle:{"border-radius":"30px"},attrs:{borderless:"","error-message":"error",accept:".mp4,.m4a,.mkv,.mov"},on:{input:t.upload},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}},[s("p",{staticClass:"absolute-center text-red bg-white text-uppercase text-weight-bold"},[t._v("\n              Загрузить\n            ")])]),s("q-btn",{staticClass:"col-7 q-mt-xl h-vh-5 q-mx-auto",attrs:{icon:"arrow_back_ios",rounded:"",outline:""},on:{click:t.goback}})],1)]):t._e()])},i=[],o=(s("e6cf"),s("a79d"),s("ddb0"),s("2b3d"),s("c973")),l=s.n(o),n=s("ded3"),r=s.n(n),c=s("c427"),d=s("18d6"),u=s("0967"),p=s("81c3"),m=s("e94f"),h=s("2f62"),v={name:"VideoCapture",props:{uploadUrl:{default:null},recordBtnContent:{default:"Record"},stopBtnContent:{default:"◼"},cancelBtnContent:{default:"Cancel"},doneBtnContent:{default:"OK"}},data(){return{startupload:!0,activeC:"fullpage",alert:null,notempty:!1,file:null,errText:null,isValid:!1,activeC2:"h-vh-68-m",splayer:!0,isUploading:!1,isRecording:!1,videoinfos:!1,player:!0,isFinished:!1,modefile:!1,recorder:null,connection:null,videoRecorder:!0,videoUrl:null,progress:0,videoUrlelastic:null,tags:null,uploadState3:!1,mess:null,example:null,uploadState2:!1,filesend:!1,mediaStream:null}},computed:r()({},Object(h["b"])(["pcm"])),created(){this.uploadUrl||(this.errText="There is no upload url available")},beforeMount(){!this.pcm.auth|!this.pcm.user.rol&&this.$root.$emit("changepage",1)},mounted:function(){},sockets:{vsuccCreated:function(t){"ok"==t.status&&(this.$refs.videoRec.src=t.videourl,this.isRecording=!1,this.activeC="h-vh-68 ",this.isFinished=!0)}},methods:{closest(t){this.startupload=!1},upload(){var t=this;return l()((function*(){if(u["b"].is.capacitor){let e=t;const{FilePicker:s}=p["a"];s.showFilePicker({fileTypes:["video/*","video/mp4"]}).then((t=>{t.uri,t.name,t.mimeType,t.extension;e.file=file}),(t=>{console.log(t)})).finally((()=>{e.upload()}))}else t.filesend=!0,t.startupload=!1,t.activeC="h-vh-68",t.isValid=!0,t.player=!1,t.videoinfos=!0,t.videoRecorder=!1,t.$nextTick((()=>{t.$refs.videoRec.src=URL.createObjectURL(t.file)}))}))()},uploadvid(){let t=this;var e=100;this.BinaryClient().then((s=>{t.isUploading=!0,this.modefile=!0,s.on("open",(function(){var a=s.send(t.file,{name:t.file.name,size:t.file.size}),i=0;a.on("data",(function(s){console.log(s),2===s.stage&&"start"===s.state&&(i=0,t.uploadState2=!0,e=1e4),3===s.stage&&"start"===s.state&&(i=0,t.uploadState3=!0,t.videoUrl=s.url,e=100),"done"===s.state&&(t.videoUrl=s.url,t.done(),t.isFinished=!0,t.activeC="h-vh-68"),t.progress=Math.round(i+=s.rx*e)/100}))}))}))},cancelVideo(){this.videoUrl=null},onStream(t){this.$refs.videoRec&&(this.$refs.videoRec.srcObject=t),this.$refs.videoRec&&this.$refs.videoRec.load(),this.$refs.videoRec&&this.$refs.videoRec.play()},onResult(t){this.filesend=!0,this.startupload=!1,this.file=t,console.log(t),this.activeC="h-vh-68",this.isValid=!0,this.splayer=!1,this.player=!0,this.videoinfos=!0,this.videoRecorder=!1,this.$nextTick((()=>{this.$refs.videoRec2.setAttribute("src",URL.createObjectURL(t)),this.$refs.videoRec2.load()}))},resetVideo(){var t=this;this.activeC="h-vh-100",this.isValid=!0,this.player=!0,this.videoinfos=!1,this.videoRecorder=!0,this.$refs.videoRec&&(this.$refs.videoRec.muted=!0),m({video:!0,audio:{width:window.innerWidth,height:window.innerHeight}}).then((function(e){t.mediaStream={stream:e},t.gotStream(e)})).catch((function(t){console.log(t)}))},record(){this.uploadUrl&&(this.getWebSocket(),this.isRecording=!0,this.recorder.start(1e3))},stop(){this.recorder.stream.getTracks().forEach((t=>t.stop())),this.recorder.stop(),this.mediaStream.stream.getTracks().forEach((t=>t.stop())),this.isRecording=!1,this.activeC="h-vh-68",this.isFinished=!0,this.connection.send("DONE"),delete this.mediaStream,delete this.recorder},RecordController(){this.isRecording?this.stop():this.record()},chenged(t){t.length>5&&(this.notempty=!0)},done(){this.send(),this.activeC="h-vh-68",this.gohome()},send(){var t={tag:this.tags,text:this.example,videolink:this.videoUrl};Object(c["a"])({method:"post",url:"/create_videos",data:t,headers:{"x-access-token":this.pcm.user.tk}}).then((t=>{this.alert=t.data,this.$emit("input",this.videoUrl),location.reload()}))},gohome(){location.reload()},goback:function(){this.$router.back()},gotStream(t){this.recorder=new MediaRecorder(t,{mimeType:"video/webm;codecs=h264"}),this.recorder.ondataavailable=this.videoDataHandler,this.$refs.videoRec.src=null,this.$refs.videoRec.srcObject=t},videoDataHandler(t){let e=new FileReader;e.readAsArrayBuffer(t.data),e.onloadend=()=>{this.connection.send(e.result)}},videoDataHandlerv2(t){let e=new FileReader;e.readAsArrayBuffer(t),e.onloadend=()=>{this.connection.onopen=()=>{this.connection.send(e.result),setTimeout((()=>{this.connection.close()}),t.size/100)}}},updateVideoFile(t){this.videoUrl=this.uploadUrl+t+".mp4",this.toggleVideo(),this.$refs.videoRec.srcObject=null,this.$refs.videoRec.src=this.videoUrl,this.isUploading=!1,d["a"].set("record",this.videoUrl)},toggleVideo(){this.$refs.videoRec.loop=!this.$refs.videoRec.loop}}},g=v,b=(s("36e6"),s("2877")),f=s("27f9"),x=s("9c40"),w=s("6b1d"),k=s("cb32"),q=s("7d53"),y=s("eebe"),C=s.n(y),_=Object(b["a"])(g,a,i,!1,null,null,null);e["a"]=_.exports;C()(_,"components",{QInput:f["a"],QBtn:x["a"],QLinearProgress:w["a"],QAvatar:k["a"],QFile:q["a"]})}}]);
//# sourceMappingURL=chunk-common.js.map