(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{e368:function(e,s,t){"use strict";t.r(s);var i=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("q-page",{staticClass:"bg-black"},[e.$q.platform.is.desktop?t("div",{staticClass:"desktop-only"},[t("desktop")],1):e._e(),e.$q.platform.is.mobile?t("div",{staticClass:"mobile-only"},[t("q-newmodelv2")],1):e._e()])},a=[],o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"bg-white row fullpageMT"},[t("div",{staticClass:"col-2 col-md-2 mt-vh-4 "},[t("q-followings")],1),t("div",{staticClass:"col mt-vh-4 flex-center-div "},[t("div",{staticClass:"mx-vw-1 h-100 w-100"},[t("q-scroll-area",{staticClass:"h-100",attrs:{"thumb-style":e.thumbStyle,"bar-style":e.barStyle}},[t("q-newmodel")],1)],1)]),t("q-listrec")],1)},l=[],n=t("ded3"),r=t.n(n),c=t("2f62"),u=(t("c427"),t("18d6")),h={data(){return{passport:{file:null,uploadStatus:"done"},itsok:!1,nextBTN:!0,recModels:5,modelall_video:0,subscribList:null,subscribListL:!1,fileexist:!1,date:null,name:null,ismodel:null,surName:null,lastName:null,perd:!1,therightwidth:400,token:null,username:null,userid:null,name:u["a"].getItem("name"),auth:null,thumbStyle:{display:"none"},barStyle:{display:"none"}}},sockets:{cl_authcontroll:function(e){"auth"==e.massage?this.auth=!0:"deauth"==e.massage&&(this.auth=!1)},cl_subscribeControle:function(e){"ok"==e.status&&(this.recModels[e.index].issubscribe=!1,this.$q.notify({color:"pink-6",message:"Подписка на "+e.name+" оформлена",classes:"glossy",timeout:500})),"removed"==e.status&&(this.recModels[e.index].issubscribe=!0,this.$q.notify({color:"pink-6",message:"Вы отказались от подписки на "+e.name,classes:"glossy",timeout:500})),"error"==e.status&&"you can not follow your self"==e.log&&this.$q.notify({color:"pink-6",message:"Вы не можете подписаться сами на себя "}),e.opennotifs&&askForPermissioToReceiveNotifications(e.id,Platform.is)},passfilesstatus:e=>{e.mrzStatus?(void 0).passport.uploadStatus="done_all":e.verified&&((void 0).nextBTN=!1)},progressverification:function(e){this.$q.notify({message:e.text,color:"pink-6"})},connect:function(){console.log("socket connected")}},computed:r()({},Object(c["b"])(["pcm"])),beforeMount(){this.token=this.pcm.user.tk,this.username=this.pcm.user.un,this.userid=this.pcm.user.id,this.auth=this.pcm.auth,this.ismodel=this.pcm.user.rol,!this.auth|this.ismodel?(this.ismodel&&this.$q.notify({color:"pink-6",message:"Вы уже модель"}),this.$router.push("/")):this.$socket.emit("s_chagePage",{page:"become_a_model"})},mounted(){},updated(){},created(){},beforeCreate(){},beforeDestroy(){},methods:{sendPassport(){this.passport.file&&(console.log(this.passport.file),this.$socket.emit("checkpassport",this.passport.file,(()=>{this.$q.notify({message:"this process will take a minute",color:"pink-6"})})))},uploadCroppedImage(){this.passport.file.generateBlob((e=>{this.$socket.emit("newmodelpassport",{data:e,id:this.pcm.user.id})}),"image/jpeg",.8)},subscribe(e,s,t){this.$socket.emit("subscribeControle",{sender:this.pcm.user.id,receiver:e,token:this.pcm.user.tk,index:t})},sendData(){let e={Name:this.name,SurName:this.surName,LastName:this.lastName,DateO:this.date,Files:this.files,OK:this.perd};if(console.log(e),null!=this.files&&this.tryDate(this.date)&&this.name.length>2&&this.surName.length>2&&this.lastName.length>2&&this.perd){let e={Name:this.name,SurName:this.surName,LastName:this.lastName,DateO:this.date,Files:this.files,OK:this.perd};this.$socket.emit("s_modelRequest",{token:this.pcm.user.tk,obj:e},(()=>{console.log("data sended")}))}else this.$q.notify({message:"Ошибка в заполнении формы",color:"pink-6"})},tryDate(e){if(null==e)return!1;var s=new Date(Date.parse(e.split(".")[1]+"/"+e.split(".")[0]+"/"+e.split(".")[2])),t=new Date;return"Invalid Date"!=s&&(!(t-s>3122064e6)&&t-s>567648e6)}}},m=h,d=t("2877"),p=t("4983"),f=t("1c1c"),b=t("eebe"),g=t.n(b),k=Object(d["a"])(m,o,l,!1,null,null,null),v=k.exports;g()(k,"components",{QScrollArea:p["a"],QList:f["a"]});var y={name:"App",components:{desktop:v},data(){return{style:{height:"h-100"}}},methods:{}},w=y,N=t("9989"),$=Object(d["a"])(w,i,a,!1,null,null,null);s["default"]=$.exports;g()($,"components",{QPage:N["a"]})}}]);
//# sourceMappingURL=19.js.map