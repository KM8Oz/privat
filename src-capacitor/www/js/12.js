(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{1588:function(t,s,e){},"42f8":function(t,s,e){"use strict";e("457e")},"457e":function(t,s,e){},"4c62":function(t,s,e){"use strict";e("1588")},6728:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",{staticClass:"bg-white text-white"},[t.$q.platform.is.mobile?e("div",{staticClass:"mobile-only"},[e("mobile")],1):t._e(),t.$q.platform.is.desktop?e("div",{staticClass:"desktop-only"},[e("desktop")],1):t._e()])},a=[],n=e("c427"),o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-layout",{staticClass:"bg-white profileminfix"},[e("div",{class:t.pcm.controls.dark?"row bg-dark":"row"},[e("div",{staticClass:"col-lg-2 col-md-3 mt-vh-4"},[e("q-followings")],1),t.auth?e("div",{staticClass:"col-lg-7 col-md-5 mt-vh-4 d-flex justify-content-center fullpageMT"},[t.thisModel?e("div",{class:t.pcm.controls.dark?"w-60 h-100 m-mx-auto text-white":"w-60 h-100 m-mx-auto text-dark"},[e("div",{staticClass:"row"},[e("q-avatar",{attrs:{size:"10vh"}},[e("img",{staticStyle:{border:"1px solid #ffffff"},attrs:{src:t.ifexist(t.thisModel,"avatars")?t.thisModel.avatars:"https://rec.camsguns.com/avatars/hashtag.png"}})]),e("div",{staticClass:"row h-md flex-1 items-center"},[e("div",{staticClass:"col q-mb-none ml-vw-1"},[e("div",{staticClass:"col-12 row"},[e("p",{staticClass:" h-mc text-weight-bold text-30 q-ma-none"},[t._v("\n                  "+t._s(t.thisModel.name)+"\n                ")])]),e("p",{staticClass:" h-mc text-comment-18 q-ma-none"},[t._v("\n                @"+t._s(t.thisModel.name)+"\n              ")])]),t.auth?e("q-btn",{staticClass:"w-35 col-3 q-my-auto q-px-none q-py-none q-mx-none",attrs:{dense:"",rounded:"",outline:t.modell.issubscribe,color:"pink-6","no-caps":""},on:{click:function(s){return t.subscribe()}}},[t.modell.issubscribe?t._e():e("p",{staticClass:"q-ma-none text-md text-weight-regular q-pa-none q-ma-none"},[t._v("\n                Подписаться\n              ")]),t.modell.issubscribe?e("p",{staticClass:"q-ma-none text-md text-weight-regular q-py-none q-px-custom q-ma-none"},[t._v("\n                Отписаться\n              ")]):t._e()]):t._e()],1)],1),e("div",{staticClass:" flex-center-div row mt-vh-2"},[t.showbar?e("q-profilebar",{attrs:{id:t.thisModel.id,notpravite:!1}}):t._e()],1),e("div",{staticClass:" row mt-vh-2 text-max3-18 w-100"},[e("p",{staticClass:"w-100"})]),e("div",{staticClass:"row"}),e("q-scroll-area",{staticClass:"h-65",attrs:{"thumb-style":t.thumbStyle,"bar-style":t.barStyle}},[t.vidos?e("div",{staticClass:"row"},t._l(t.vidos,(function(t,s){return e("div",{key:t._id,class:[{"ml-09":s%3!=0},"w-32","q-pa-none","q-pa-none","mb-1"]},[e("div",{staticClass:"bg-black rounded-borders flex"},[e("vue-plyr",{staticClass:"mute-right"},[e("video",{staticClass:"col-12",attrs:{"data-plyr-config":'{ "controls": ["play-large","play","settings","mute"], "settings": ["quality"]}',id:t._id,src:t._source.body.video.replace(".mp4","_mobile.mp4"),color:"black",type:"video/mp4"}})])],1)])})),0):e("div",{staticClass:"row"},[e("span",[t._v("no videos")])])])],1):e("div",{staticClass:"w-60 h-100 m-mx-auto"},[e("div",{staticClass:"row m-mx-auto"},[e("div",{staticClass:"row col-12"},[e("q-avatar",{attrs:{size:"10vh"}},[e("img",{staticStyle:{border:"1px solid #ffffff"},attrs:{src:t.thisModel.avatars?t.thisModel.avatars:"https://rec.camsguns.com/avatars/hashtag.png"}})]),e("div",{staticClass:"row h-mc flex-1 flex-center"},[e("div",{staticClass:"col q-mb-none ml-vw-1"},[e("div",{staticClass:"col-12 row"},[e("p",{staticClass:"text-black h-mc text-weight-bold text-30 q-ma-none"},[t._v("\n                    "+t._s(t.thisModel.name)+"\n                  ")])]),e("p",{staticClass:"text-black h-mc text-comment-18 q-ma-none"},[t._v("\n                  @"+t._s(t.thisModel.name)+"\n                ")]),e("div",{staticClass:"row"},[null!=t.podpleight?e("p",{staticClass:"text-black q-mr-xl"},[t._v("\n                    "+t._s(t.podpleight)+" Подписки\n                  ")]):t._e()])]),t.auth?e("q-btn",{staticClass:"w-35 h-10 q-px-none q-py-none q-mx-none",attrs:{dense:"",rounded:"",outline:t.modell.issubscribe,color:"pink-6","no-caps":""},on:{click:t.subscribe}},[t.modell.issubscribe?t._e():e("p",{staticClass:"q-ma-none text-md text-weight-regular q-pa-none q-ma-none"},[t._v("\n                  Подписаться\n                ")]),t.modell.issubscribe?e("p",{staticClass:"q-ma-none text-md text-weight-regular q-py-none q-px-custom q-ma-none"},[t._v("\n                  Отписаться\n                ")]):t._e()]):t._e()],1)],1),e("p",{staticClass:"text-black full-width flex flex-center"},[t._v("Мои поцелуи")])]),e("q-scroll-area",{staticClass:"h-65",attrs:{"thumb-style":t.thumbStyle,"bar-style":t.barStyle}},[e("div",{staticClass:"row"},t._l(t.vidos,(function(s,i){return e("div",{key:s._id,class:[{"ml-09":i%3!=0},"w-33","q-pa-none","q-mt-xs","mb-1"]},[s.body?e("div",{staticClass:"bg-black rounded-borders flex"},[e("transition",{attrs:{appear:"","enter-active-class":"animated bounceInUp","leave-active-class":"animated bounceOutDown"}},[e("vue-plyr",{staticClass:"mute-right"},[e("video",{staticClass:"col-12 ",attrs:{"data-plyr-config":'{ "controls": ["play-large","play","settings","mute"], "settings": ["quality"]}',id:s._id,src:s.body.video.replace(".mp4","_desktop.mp4"),color:"black",type:"video/mp4"}})])],1)],1):t._e()])})),0)])],1)]):e("div",{staticClass:"flex justify-center q-mt-xl text-black col"},[e("h5",[t._v("you can't access this data try ti signin")])]),e("q-listrec")],1),e("q-dialog",{directives:[{name:"show",rawName:"v-show",value:t.withdrawDialog,expression:"withdrawDialog"}],staticClass:"row"},[e("q-card",{staticClass:"bg-white full-width fullpage q-pl-sm q-pr-sm"},[e("p",[t._v("Укажите необходимую сумму и валюту для вывода")]),e("q-select",{staticClass:"col-12 q-pt-sm",attrs:{outlined:"",options:t.options,label:"Валюта вывода"},model:{value:t.currency,callback:function(s){t.currency=s},expression:"currency"}}),e("q-input",{staticClass:"col-12 q-pt-sm",attrs:{outlined:"",placeholder:"сумма токенов"},model:{value:t.amount,callback:function(s){t.amount=s},expression:"amount"}}),e("q-btn",{staticClass:"no-shadow full-width q-mt-sm q-mb-sm",attrs:{color:"pink-13",label:"Вывести"},on:{click:function(s){return t.withdraw()}}})],1)],1),e("q-dialog",{model:{value:t.depositDialog,callback:function(s){t.depositDialog=s},expression:"depositDialog"}},[e("q-card",{staticClass:"w-vw-20 h-vh-30 absolute-center flex q-px-md",attrs:{color:"white"}},[t.yad?e("div",{staticClass:"flex-center-div flex-center-vertical"},[e("div",[e("div",[t._v("\n            Сформирован счет № "+t._s(t.order_id)+" на сумму:\n            "+t._s(t.amount_deposit)+" токенов\n          ")]),e("form",{staticClass:"flex w-70 ma-auto",attrs:{method:"POST",action:"https://money.yandex.ru/quickpay/confirm.xml"}},[e("input",{attrs:{type:"hidden",name:"receiver",value:"4100115505163705"}}),e("input",{attrs:{type:"hidden",name:"formcomment",value:"Токены"}}),e("input",{attrs:{type:"hidden",name:"short-dest",value:"Покупка токенов"}}),e("input",{attrs:{type:"hidden",name:"label"},domProps:{value:t.amount_deposit+" Токенов"}}),e("input",{attrs:{type:"hidden",name:"quickpay-form",value:"donate"}}),e("input",{attrs:{type:"hidden",name:"targets"},domProps:{value:t.amount_deposit}}),e("input",{attrs:{type:"hidden",name:"sum","data-type":"number"},domProps:{value:t.amount_deposit}}),e("input",{attrs:{type:"hidden",name:"comment"},domProps:{value:t.thsincom}}),e("input",{attrs:{type:"hidden",name:"need-fio",value:"false"}}),e("input",{attrs:{type:"hidden",name:"need-email",value:"false"}}),e("input",{attrs:{type:"hidden",name:"need-phone",value:"false"}}),e("input",{attrs:{type:"hidden",name:"need-address",value:"false"}}),e("input",{attrs:{type:"hidden",name:"paymentType",value:"AC"}}),e("q-btn",{staticClass:"flex-center bg-pink-6 mt-vh-2 w-100 text-white",attrs:{rounded:"",type:"submit",label:"Перейти к оплате"}})],1)])]):e("div",{staticClass:"mt-vh-4 row flex-center-div flex-center-vertical"},[e("div",[e("p",{staticClass:"q-pa-none"},[t._v("\n            1 токен равен 1 рубль укажите сумму в рублях ниже\n          ")]),e("q-input",{attrs:{outlined:"",placeholder:"Сумма"},model:{value:t.amount_deposit,callback:function(s){t.amount_deposit=s},expression:"amount_deposit"}}),e("q-btn",{staticClass:"no-shadow w-60 mt-vh-2 ml-20 text-center bg-pink-6 text-white",attrs:{rounded:"",label:"Перейти в кассу"},on:{click:function(s){return t.depositstart()}}})],1)])])],1)],1)},l=[],r=e("ded3"),c=e.n(r),d=e("18d6"),u=e("2f62"),m={name:"App",components:{},data(){return{plyr:{fullscreen:{enabled:!1}},podpleight:0,followers:0,likes:0,modell:{id:this.$route.params.modelid,issubscribe:!1},vidos:null,isModel:!1,balance:0,withdrawDialog:!1,options:["RUB","USD","EUR","CNY","JPN"],currency:null,amount:null,depositDialog:!1,yad:!1,showbar:!1,amount_deposit:null,order_id:0,recModels:5,modelall_video:0,subscribList:null,subscribListL:!1,playedid:null,pin:"",thisModel:null,token:null,username:null,userid:null,name:d["a"].getItem("name"),auth:null,thsincom:"Токены от ID:",thumbStyle:{display:"none"},barStyle:{display:"none"},controls:["play-large","restart","rewind","play","fast-forward","progress","current-time","duration","mute","volume","captions","settings","pip","airplay","download","fullscreen"]}},computed:c()(c()({},Object(u["b"])(["pcm"])),{},{thisMAv:function(){var t;return!!(null===(t=this.thisModel)||void 0===t?void 0:t.avatars)}}),sockets:{checkifsubrs:function(t){t.data?(this.modell.issubscribe=!0,this.modell.id=t.id,this.podpleight=t.totals):(this.modell.issubscribe=!1,this.modell.id=t.id,this.podpleight=t.totals)},identification:function(t){this.pin=t.uuid},cl_authcontroll:function(t){"auth"==t.massage?this.auth=!0:"deauth"==t.massage&&(this.auth=!1)},cl_getuserinfos:function(t){if(console.log(t),this.showbar=!0,this.thisModel=t,this.vidos=t.videos,this.vidos)for(var s=0;s<this.vidos.length;s++)this.vidos[s].status="mdi-play";this.followers=t.subscribers,this.podpleight=t.subscribing},cl_subscribeControle:function(t){"added"==t.status&&(this.modell.issubscribe=!0,this.$q.notify({color:"pink-6",message:"Подписка на "+t.name+" оформлена",classes:"glossy",timeout:500})),"removed"==t.status&&(this.modell.issubscribe=!1,this.$q.notify({color:"pink-6",message:"Вы отказались от подписки на "+t.name,classes:"glossy",timeout:500})),"error"==t.status&&"you can not follow your self"==t.log&&this.$q.notify({color:"pink-6",message:"Вы не можете подписаться сами на себя "}),t.opennotifs&&askForPermissioToReceiveNotifications(t.id,Platform.is)}},mounted(){this.getdata(this.$route.params.modelid)},created(){this.$socket.emit("s_chagePage",{token:this.token,page:"index"})},beforeMount:function(){this.token=this.pcm.user.tk,this.username=this.pcm.user.un,this.userid=this.pcm.user.id,this.auth=this.pcm.auth,this.isModel=this.pcm.user.rol,this.thsincom="Токены от ID:"+this.username,this.auth?this.$socket.emit("identification",{token:this.pcm.user.tk,update:!1}):this.$router.push("/")},methods:{ifexist(t,s){return!!t[s]},subscribe(){this.$socket.emit("subscribeControle",{sender:this.pcm.user.id,receiver:this.modell.id,token:this.pcm.user.tk,index:0}),this.$socket.emit("checkifsubrs",{userid:this.pcm.user.id,modelid:id})},getdata:function(t){this.$socket.emit("getuserinfoprofile",{id:t})},identification(){this.$socket.emit("identification",{token:this.pcm.user.tk,update:!0})},payout(){this.withdrawDialog=!0},depositstart(){Object(n["a"])({method:"get",url:"/depositstart",headers:{"x-access-token":this.pcm.user.tk,amount:this.amount_deposit}}).then((t=>{this.order_id=t.data.link.id,this.yad=!0}))},withdraw(){this.withdialog=!1,Object(n["a"])({method:"get",url:"/withdraw",headers:{"x-access-token":this.pcm.user.tk,amount:parseFloat(this.amount),currency:this.currency}}).then((t=>{this.alert=t.data.status,"done"==t.data.status?location.reload():this.$q.notify({color:"negative",message:"Что-то пошло не так!"})}))}}},h=m,p=(e("4c62"),e("2877")),v=e("4d5a"),g=e("cb32"),f=e("9c40"),b=e("0016"),w=e("4983"),x=e("1c1c"),y=e("24e8"),k=e("f09f"),q=e("ddd8"),C=e("27f9"),_=e("eebe"),$=e.n(_),P=Object(p["a"])(h,o,l,!1,null,null,null),S=P.exports;$()(P,"components",{QLayout:v["a"],QAvatar:g["a"],QBtn:f["a"],QIcon:b["a"],QScrollArea:w["a"],QList:x["a"],QDialog:y["a"],QCard:k["a"],QSelect:q["a"],QInput:C["a"]});var M=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"bg-white fullpage flex-center-vertical text-black"},[t.nnologin?e("div",[t.ismodel?e("div",[e("mmodel",{staticClass:"fullpage",attrs:{pravite:!1}})],1):t._e(),t.ismodel?t._e():e("div",[e("muser",{staticClass:"fullpage",attrs:{pravite:!1}})],1)]):t._e(),t.nologin?e("div",[e("q-btn",{staticClass:"mbackbut",attrs:{flat:"",icon:"arrow_back",size:"2vh"},on:{click:function(s){return t.routeback()}}}),e("p",{staticClass:"flex flex-center text-m-24  q-ma-none"},[t._v("Вход")]),e("q-form",{staticClass:"flex flex-center "},[e("q-input",{staticClass:"w-vw-90 mt-vh-2 h-vh-5-st",attrs:{dense:"",outlined:"",placeholder:"Логин"},model:{value:t.username,callback:function(s){t.username=s},expression:"username"}}),e("q-input",{staticClass:"w-vw-90 mt-vh-2 h-vh-5-st",attrs:{dense:"",outlined:"",type:"password",placeholder:"Пароль"},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}}),e("div",{staticClass:"w-vw-90 mt-vh-2 flex-center-between"},[e("q-btn",{staticClass:"text-m-sm minheightbutfix",attrs:{label:"Забыли пароль?",color:"pink-6",flat:""},on:{click:function(s){return t.resetpass()}}})],1),e("q-btn",{staticClass:"w-vw-30 mt-vh-2",attrs:{label:"Войти",dense:"",rounded:"",color:"pink-6"},on:{click:function(s){return t.signinstart()}}})],1)],1):t._e(),t.signupform?e("div",{staticClass:"w-100"},[e("q-btn",{staticClass:"mbackbut",attrs:{flat:"",icon:"arrow_back",size:"2vh"},on:{click:function(s){return t.routesig()}}}),e("p",{staticClass:"q-mt-none mb-vh-2 mt-vh-2 text-m-24  text-center"},[t._v("\n      Регистрация\n    ")]),e("q-form",{staticClass:"w-vw-90 ma-auto"},[e("q-input",{ref:"user",staticClass:"mt-vh-5 mobilepadding text-comment-14 mx-vw-1 h-vh-5-st q-pa-none",attrs:{label:"Ваш логин",outlined:"","lazy-rules":"",type:"text",rules:[function(t){return t&&t.length>0||"Укажите ваше имя"}]},on:{input:function(s){return t.eventValidRed()}},model:{value:t.username,callback:function(s){t.username=s},expression:"username"}}),e("q-input",{staticClass:"mt-vh-2 mobilepadding text-comment-14 mx-vw-1 h-vh-5-st q-pa-none",attrs:{label:"Email",outlined:"","lazy-rules":"",type:"email",rules:[function(s){return t.validateEmail(s)&&s.length>0||"Укажите email"}]},on:{input:function(s){return t.eventValidRed()}},model:{value:t.email,callback:function(s){t.email=s},expression:"email"}}),e("q-input",{staticClass:"mt-vh-2 mobilepadding text-comment-14 mx-vw-1 h-vh-5-st q-pa-none",attrs:{label:"Пароль",outlined:"","lazy-rules":"",type:"password",rules:[function(t){return t&&t.length>0||"Придумайте пароль"}]},on:{input:function(s){return t.eventValidRed()}},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}}),e("q-input",{ref:"pass",staticClass:"mt-vh-2 mobilepadding text-comment-14 mx-vw-1 h-vh-5-st q-pa-none ",attrs:{label:"Повторите пароль",outlined:"",type:"password","lazy-rules":"",rules:[function(s){return s==t.password&&s.length>0||"Пароли не совпадают!"}]},on:{input:function(s){return t.eventValidRed()}},model:{value:t.passAgain,callback:function(s){t.passAgain=s},expression:"passAgain"}}),e("q-checkbox",{staticClass:"mt-vh-2 mobilepadding mx-vw-1 ",attrs:{dense:"",size:"4vh"},on:{input:function(s){return t.eventValidRed()}},model:{value:t.okay,callback:function(s){t.okay=s},expression:"okay"}},[e("p",{staticClass:"text-comment-14 gray-1337 q-ma-none "},[t._v("\n          Согласие на обработку моих персональных данных\n        ")])]),e("div",{staticClass:"d-flex"},[e("q-btn",{staticClass:"w-vw-40 text-comment-14 btnwhitedis ml-auto mr-auto  mt-vh-4 h-vh-1080-50px",attrs:{label:"Зарегистрироваться","text-color":"black",dense:"",rounded:"",color:"pink-6",disable:!t.validateReg},on:{click:function(s){return t.createUser()}}})],1)],1)],1):t._e(),t.resetPass?e("div",{staticClass:"w-100"},[e("q-btn",{staticClass:"mbackbut",attrs:{flat:"",icon:"arrow_back",size:"2vh"},on:{click:function(s){return t.routesig()}}}),e("p",{staticClass:"q-mt-none mb-vh-2 mt-vh-2 text-m-24 text-center"},[t._v("\n      Восстановление\n    ")]),e("q-form",[e("p",{staticClass:"q-mt-none mb-vh-2 mt-vh-2 text-comment-18 textgray text-center"},[t._v("\n        Введите e-mail, чтобы восстановить пароль."),e("br"),t._v("Мы пришлем инструкцию\n        на указанную почту."),e("br"),t._v("Если вы не получили письмо в течение 10"),e("br"),t._v("минут,\n        проверьте папку «Спам».\n      ")]),e("q-input",{staticClass:"mt-vh-2 text-comment-14  mobilepadding w-vw-90 ma-auto h-vh-5-st q-pa-none",attrs:{label:"Email",outlined:"","lazy-rules":"",type:"email",rules:[function(s){return t.validateEmail(s)&&s.length>0||"Укажите email"}]},on:{input:function(s){return t.eventValidReset()}},model:{value:t.email,callback:function(s){t.email=s},expression:"email"}}),e("div",{staticClass:"d-flex"},[e("q-btn",{staticClass:"w-vw-40 text-comment-14 btnwhitedis ml-auto mr-auto  mt-vh-4 h-vh-1080-50px",attrs:{label:"Восстановить","text-color":"black",dense:"",rounded:"",color:"pink-6",disable:!t.validateReset},on:{click:function(s){return t.resetPassword()}}})],1)],1)],1):t._e(),e("div",{staticClass:"authbot"},[t.nologin?e("div",{staticClass:"flex-center-div"},[e("p",{staticClass:"textgray w-mxc  q-ma-none"},[t._v("\n        Ещё нет аккаунта?\n        "),e("q-btn",{staticClass:"text-m-sm minheightbutfix",attrs:{label:"Зарегистрируйтесь",color:"pink-6",flat:""},on:{click:function(s){return t.signup()}}})],1)]):t._e()]),t.nologin||null!=t.ismodel||t.signupform||t.resetPass?t._e():e("div",{staticClass:"w-100 d-flex"},[e("q-spinner",{staticClass:"ma-auto",attrs:{color:"pink-6",size:"15vw"}})],1)])},I=[],E=e("549a"),R=e("a1f4"),A={name:"App",components:{mmodel:E["a"],muser:R["a"]},data(){return{ismodel:null,nnologin:!1,nologin:!1,signupform:!1,accept:!1,roles:"",username:new String(""),email:new String(""),password:new String(""),passAgain:new String(""),validateAuth:!1,okay:!1,validateReg:!1,validateReset:!1,resetPass:!1,resetUrlPass:!1,resetcode:new String(""),resertusername:new String(""),resetPasswordInput:new String(""),resetTryPasswordInput:new String(""),validateNewPass:!1}},computed:c()({},Object(u["b"])(["pcm"])),beforeMount(){var t,s;this._G.fotervisible=!1,Object(n["a"])({method:"get",url:"/verify_sess",headers:{"x-access-token":null===(t=this.pcm)||void 0===t||null===(s=t.user)||void 0===s?void 0:s.tk}}).then((t=>{"YES"==t.data.session?("Y"==t.data.ismodel?(this.ismodel=!0,this.nnologin=!0):(this.ismodel=!1,this.nnologin=!0),this.nologin=!1):this.nologin=!0}))},mounted(){var t,s,e,i;0==this.pcm.auth&&this.$router.push("/"),this.$socket.emit("identification",{token:null===(t=this.pcm)||void 0===t||null===(s=t.user)||void 0===s?void 0:s.tk,update:!1}),this.username=null===(e=this.pcm)||void 0===e||null===(i=e.user)||void 0===i?void 0:i.un},methods:{createUser(){var t={username:this.username,password:this.password,roles:[],email:this.email};this.$refs.user.validate(),this.$refs.pass.validate(),this.$refs.user.hasError||this.$refs.pass.hasError?this.formHasError=!0:(n["a"].post("/signup",t).then((t=>{"ok"==t.data.mess||this.$q.notify("Ошибка регистрации попробуйте позднее"),this.routesig()})),this.sign=!1)},validateNewPassE(){this.validateNewPass=this.resetPasswordInput==this.resetTryPasswordInput&&this.resetPasswordInput.length>0},validateEmail(t){const s=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return s.test(String(t).toLowerCase())},eventValidReset(){this.validateReset=this.validateEmail(this.email)},eventValidRed(){this.validateReg=this.password.length>0&&this.username.length>0&&this.passAgain.length>0&&this.validateEmail(this.email)&&this.okay},eventValidAuth(){this.validateAuth=this.password.length>0&&this.username.length>0},resetPassword(){let t={email:this.email};n["a"].post("/passwordrecovery",t).then((t=>{"ok"==t.data.status?(this.$q.notify("email успешно отправлен"),this.routesig()):this.$q.notify("Пользователь не найден или не существует")}))},routeback(){this.$router.push("/")},routesig(){this.signin()},signup(){this.resetPass=!1,this.nologin=!1,this.signupform=!0,this.nnologin=!1},signin(){this.resetPass=!1,this.nologin=!0,this.signupform=!1,this.nnologin=!1},resetpass(){this.resetPass=!0,this.signupform=!1,this.nologin=!1,this.nnologin=!1},signupstart(){this.nologin=!1,this.signupform=!1;var t={username:this.username,password:this.password,roles:this.roles,name:this.regname,email:this.regemail};n["a"].post("/signup",t).then((t=>{"ok"==t.data.mess?(this.$q.notify({message:"успешная регистрация можете войти",color:"green"}),this.nologin=!0,this.signupform=!1,this.nnologin=!1):"false"==t.data.auth?(this.$q.notify(t.data.reason),this.nologin=!1,this.signupform=!0,this.nnologin=!1):(this.nologin=!1,this.signupform=!0,this.nnologin=!1)})).catch((t=>{"Username is already taken!"===t.response.data.status?this.$q.notify({message:"логин занят",color:"purple"}):"Email is already in use!"===t.response.data.status&&this.$q.notify({message:"email занят",color:"purple"}),this.nologin=!1,this.signupform=!0,this.nnologin=!1}))},signinstart(){this.nologin=!1,this.signupform=!1;var t={username:this.username,password:this.password};n["a"].post("/signin",t).then((t=>{if(console.log(t.data),"ok"==t.data.stat){this.nologin=!1,this.signupform=!0;const s=t.data.name,e=t.data.reason,i=this.username,a=t.data.userId;d["a"].set("token",e),d["a"].set("username",i),d["a"].set("userid",a),d["a"].set("name",s),this.nologin=!1,this.signupform=!1,this.auth=!1,this.nnologin=!1,location.reload()}else this.$q.notify(t.data.reason),this.nologin=!0,this.signupform=!1,this.nnologin=!1}))}}},Q=A,z=e("0378"),D=e("8f8e"),j=e("0d59"),O=Object(p["a"])(Q,M,I,!1,null,null,null),V=O.exports;$()(O,"components",{QBtn:f["a"],QForm:z["a"],QInput:C["a"],QCheckbox:D["a"],QSpinner:j["a"]});var U={name:"PageIndex",components:{desktop:S,mobile:V},data(){return{bal:"100.00",nnologin:!1,nologin:!0,username:null,password:null,signupform:!1,accept:!1,roles:"",name:d["a"].getItem("username")}},methods:{create_model(){Object(n["a"])({method:"post",url:"/create_model_chat",headers:{"x-access-token":d["a"].getItem("token")}}).then((t=>{}))},signup(){this.nologin=!1,this.signupform=!0,this.nnologin=!1},signin(){this.nologin=!0,this.signupform=!1,this.nnologin=!1},signupstart(){this.nologin=!1,this.signupform=!1;var t={username:this.username,password:this.password,roles:this.roles};n["a"].post("/signup",t).then((t=>{"ok"==t.data.mess?(this.nologin=!0,this.signupform=!1,this.nnologin=!1):"false"==t.data.auth?(this.$q.notify(t.data.reason),this.nologin=!1,this.signupform=!0,this.nnologin=!1):(this.nologin=!1,this.signupform=!0,this.nnologin=!1)})).catch((t=>{this.$q.notify("ошибка попробуйте снова и проверьте форму"),this.nologin=!1,this.signupform=!0,this.nnologin=!1}))},signinstart(){this.nologin=!1,this.signupform=!1;var t={username:this.username,password:this.password};n["a"].post("/signin",t).then((t=>{if(console.log(t.data),"ok"==t.data.stat){this.nologin=!1,this.signupform=!0;const s=t.data.reason,e=this.username;d["a"].setItem("token",s),d["a"].setItem("username",e),this.nologin=!1,this.signupform=!1,this.auth=!0,this.nnologin=!0}else"false"==t.data.auth&&(this.$q.notify(t.data.reason),this.nologin=!1,this.signupform=!0,this.nnologin=!1)}))}},beforeCreate(){Object(n["a"])({method:"get",url:"/verify_sess",headers:{"x-access-token":d["a"].getItem("token")}}).then((t=>{"YES"==t.data.session?(this.nologin=!1,this.signupform=!1,this.auth=!0,this.nnologin=!0):(this.nologin=!0,this.nnologin=!1)}))}},N=U,L=(e("42f8"),e("9989")),T=Object(p["a"])(N,i,a,!1,null,null,null);s["default"]=T.exports;$()(T,"components",{QPage:L["a"]})}}]);
//# sourceMappingURL=12.js.map