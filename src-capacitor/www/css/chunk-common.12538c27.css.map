{"version":3,"sources":["chunk-common.12538c27.css","/var/www/html/privat/src/pages/mobile/src/pages/mobile/profile_model.vue","/var/www/html/privat/src/pages/mobile/src/pages/mobile/tran.vue","/var/www/html/privat/src/pages/mobile/index.vue","/var/www/html/privat/src/css/record.scss","record.scss"],"names":[],"mappings":"AAAA,gGAAgG,CCuXhG,MACA,cACA,CAEA,QACA,WACA,CAEA,MACA,UACA,CAEA,OACA,iBAAA,CACA,cACA,CAEA,yBACA,mCACA,CCvOA,wBACA,WAAA,CACA,UACA,CACA,uBACA,WAAA,CACA,UACA,CACA,wBACA,gBAAA,CACA,WACA,CACA,wBACA,YACA,CACA,uBACA,iBACA,CACA,sBACA,gBACA,CACA,wBACA,YACA,CACA,wBACA,WACA,CCyuBI,oCACE,eAAA,CACA,SAAA,CACA,eAAA,CACD,+BAAA,CACC,aAr6BN,CAw6BI,uCACE,UAt6BN,CAy6BI,2CACE,iBAAA,CACG,QAAA,CACL,QAAA,CACA,WAAA,CACE,cAAA,CACA,eAAA,CAEA,SAx6BN,CAy6BM,iDACM,iBAAA,CACR,aAAA,CACA,UAAA,CACA,UAAA,CACA,gBAAA,CACA,qBAAA,CACA,kBAAA,CACA,eAAA,CACA,SAv6BJ,CAy6BQ,+DACE,cAv6BV,CAy6BQ,gEACE,iBAv6BV,CA46BQ,qEACE,2CA16BV,CA46BQ,sEACE,WA16BV,CA46BQ,sEACE,2CA16BV,CA+6BQ,sEACE,yCA76BV,CA+6BQ,uEACE,SA76BV,CA+6BQ,uEACE,yCA76BV,CAi7BU,4EACE,6CA/6BZ,CAi7BU,6EACE,WA/6BZ,CAi7BU,6EACE,6CA/6BZ,CAq7BA,wBACE,sBAAA,CACA,yCAAA,CACA,yBAAA,CACA,oBAAA,CACA,0BAl7BF,CAq7BA,uBACE,WAAA,CACA,UAl7BF,CAq7BA,wBACE,gBAAA,CACA,WAl7BF,CAq7BA,wBACE,YAl7BF,CAq7BA,uBACE,iBAl7BF,CAq7BA,sBACE,gBAl7BF,CAq7BA,wBACE,WAl7BF,CAq7BA,uBACE,gBAl7BF,CAq7BA,0BACE,eAl7BF,CAq7BA,wBACE,aAAA,CACA,WAAA,CACA,aAl7BF,CAq7BA,uBACE,mBAl7BF,CAq7BA,yBAEE,qCAl7BF,CCnHA,SACI,QAAA,CACA,8BCFJ,CDKA,KACE,qBAAA,CACA,gBAAA,CACA,cAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,aCFF,CDGE,OACE,WCDJ,CDGE,OACE,aAAA,CACA,oBCDJ,CDUE,4DACE,YAAA,CACA,qBAAA,CACA,kBCFJ,CDMI,mEACE,WCDN,CDIE,2DAEE,eCFJ,CDIE,6BACE,UAAA,CACA,YCFJ,CDIE,kCACE,cAAA,CACA,aAAA,CACA,WCFJ,CDQA,eACE,YAAA,CACA,WAAA,CACA,WAAA,CACA,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,4BCLF,CDME,+CAEE,WAAA,CACA,UAAA,CACA,eCJJ,CDME,uBACE,oBAAA,CACA,YCJJ,CDSA,QACE,aAAA,CACA,yBAAA,CACA,6BAAA,CACA,iBAAA,CACA,UAAA,CACA,WAAA,CACA,iCCJF,CDQA,aACE,YAAA,CACA,sBAAA,CACA,kBCLF,CDQA,KACE,eAAA,CAGA,WAAA,CACA,cAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CACA,cAAA,CACA,eCLF,CDME,gBATA,oBAAA,CACA,UCMF,CDME,UACE,cCJJ,CDQA,gBACE,GACE,sBCLF,CDOA,GACE,wBCLF,CACF","file":"chunk-common.12538c27.css","sourcesContent":["@import url(https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900&display=swap);\n\n.mt10 {\n    margin-top: 1vh;\n}\n.vidoss {\n    height: 15vh;\n}\n.h100 {\n    height: 90%;\n}\n.mt20p {\n    position: absolute;\n    margin-top: 10%;\n}\n.plyr__control--overlaid {\n    background: rgb(0 0 0 / 50%) !important;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /* .plyr video {\n    height: 100vh !important;\n} */\n\n\n.vh100[data-v-7139a9d0] {\n  height: 90vh;\n  width: 100%;\n}\n.vh40[data-v-7139a9d0] {\n  height: 20vh;\n  width: 100%;\n}\n.mpb50[data-v-7139a9d0] {\n  padding-top: 20vh;\n  height: 40vh;\n}\n.zi200[data-v-7139a9d0] {\n  z-index: -200;\n}\n.bott[data-v-7139a9d0] {\n  margin-bottom: 0px;\n}\n.mb0[data-v-7139a9d0] {\n  padding-top: 30vh;\n}\n.vh100[data-v-7139a9d0] {\n  height: 100vh;\n}\n.zi200[data-v-7139a9d0] {\n  z-index: 200;\n}\n\n.swiper_menu .menu[data-v-12e2bc29] {\n  min-width: 100px;\n  width: 70%;\n  max-width: 320px;\n  background-color: #ffffff !important;\n  color: #c0095e;\n}\n.swiper_menu .content[data-v-12e2bc29] {\n  width: 100%;\n}\n.swiper_menu .menu-button[data-v-12e2bc29] {\n  position: absolute;\n  top: 48px;\n  left: 0px;\n  padding: 9px;\n  cursor: pointer;\n  transition: 0.3s;\n  z-index: 2;\n}\n.swiper_menu .menu-button .bars[data-v-12e2bc29] {\n  position: relative;\n  display: block;\n  width: 27px;\n  height: 2px;\n  margin: 11px auto;\n  background-color: #fff;\n  border-radius: 10px;\n  transition: 0.3s;\n  z-index: 2;\n}\n.swiper_menu .menu-button .bars[data-v-12e2bc29]:nth-of-type(1) {\n  margin-top: 0px;\n}\n.swiper_menu .menu-button .bars[data-v-12e2bc29]:nth-of-type(3) {\n  margin-bottom: 0px;\n}\n.swiper_menu .menu-button:hover .bars[data-v-12e2bc29]:nth-of-type(1) {\n  transform: translateY(1.5px) rotate(-4.5deg);\n}\n.swiper_menu .menu-button:hover .bars[data-v-12e2bc29]:nth-of-type(2) {\n  opacity: 0.9;\n}\n.swiper_menu .menu-button:hover .bars[data-v-12e2bc29]:nth-of-type(3) {\n  transform: translateY(-1.5px) rotate(4.5deg);\n}\n.swiper_menu .menu-button.opened .bars[data-v-12e2bc29]:nth-of-type(1) {\n  transform: translateY(15px) rotate(-45deg);\n}\n.swiper_menu .menu-button.opened .bars[data-v-12e2bc29]:nth-of-type(2) {\n  opacity: 0;\n}\n.swiper_menu .menu-button.opened .bars[data-v-12e2bc29]:nth-of-type(3) {\n  transform: translateY(-15px) rotate(45deg);\n}\n.swiper_menu .menu-button.opened:hover .bars[data-v-12e2bc29]:nth-of-type(1) {\n  transform: translateY(13.5px) rotate(-40.5deg);\n}\n.swiper_menu .menu-button.opened:hover .bars[data-v-12e2bc29]:nth-of-type(2) {\n  opacity: 0.1;\n}\n.swiper_menu .menu-button.opened:hover .bars[data-v-12e2bc29]:nth-of-type(3) {\n  transform: translateY(-13.5px) rotate(40.5deg);\n}\n.vh100[data-v-12e2bc29] {\n  height: 100vh !important;\n  height: calc(var(--vh, 1vh) * 100) !important;\n  max-height: 100% !important;\n  width: 100% !important;\n  object-fit: cover !important;\n}\n.vh40[data-v-12e2bc29] {\n  height: 20vh;\n  width: 100%;\n}\n.mpb50[data-v-12e2bc29] {\n  padding-top: 20vh;\n  height: 40vh;\n}\n.zi200[data-v-12e2bc29] {\n  z-index: -200;\n}\n.bott[data-v-12e2bc29] {\n  margin-bottom: 0px;\n}\n.mb0[data-v-12e2bc29] {\n  padding-top: 30vh;\n}\n.zi200[data-v-12e2bc29] {\n  z-index: 200;\n}\n.mt20[data-v-12e2bc29] {\n  margin-top: -40px;\n}\n.comdial[data-v-12e2bc29] {\n  max-height: 60vh;\n}\n.clbtn[data-v-12e2bc29] {\n  display: block;\n  float: right;\n  margin-top: 0%;\n}\n.pb50[data-v-12e2bc29] {\n  padding-bottom: 15vh;\n}\n.shadow[data-v-12e2bc29] {\n  filter: drop-shadow(0px 0px 1px black);\n}\n.btn-bot {\n  top: 70vh;\n  z-index: 1000000000000000100000;\n}\n\n#nav {\n  border: 1px solid blue;\n  margin: 20px auto;\n  font-size: 25px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #a7a7a7;\n}\n#nav * {\n  margin: 10px;\n}\n#nav a {\n  color: #a7a7a7;\n  text-decoration: none;\n}\n\n.video-cap-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.video-cap-container .stream-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.video-cap-container .controls {\n  margin: 10px;\n}\n.video-cap-container .controls .btn {\n  margin: 10px;\n}\n.video-cap-container .camera,\n.video-cap-container .preview {\n  object-fit: fill;\n}\n.video-cap-container .camera {\n  width: 100%;\n  filter: FlipH;\n}\n.video-cap-container .error-video {\n  font-size: 25px;\n  color: #ba5151;\n  margin: 10px;\n}\n\n.photo-capture {\n  padding: 10px;\n  margin: 10px;\n  width: 300px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n}\n.photo-capture .camera,\n.photo-capture .preview {\n  margin: 10px;\n  width: 100%;\n  object-fit: fill;\n}\n.photo-capture .camera {\n  transform: scaleX(-1);\n  filter: FlipH;\n}\n\n.loader {\n  margin: 0 auto;\n  border: 16px solid #34495e;\n  /* Light grey */\n  border-top: 16px solid #41b883;\n  /* Blue */\n  border-radius: 50%;\n  width: 80px;\n  height: 80px;\n  animation: spin 2s linear infinite;\n}\n\n.flex-center {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.btn {\n  margin-top: 10px;\n  background-color: red;\n  color: white;\n  margin: 10px;\n  min-width: 65px;\n  height: 65px;\n  border: none;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: 0.3s;\n}\n.btn:hover {\n  background-color: red;\n  color: white;\n}\n.btn .fas {\n  font-size: 25px;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n","<template>\n    <div class=\"w-100\">\n        <q-dialog v-model=\"withdialog\" class=\"row\">\n            <q-card class=\"bg-white full-width q-pl-sm q-pr-sm\">\n                <p>Укажите необходимую сумму и валюту для вывода</p>\n                <q-select class=\"col-12 q-pt-sm\" outlined v-model=\"currency\" :options=\"options\" label=\"Валюта вывода\" />\n                <q-input class=\"col-12 q-pt-sm\" outlined v-model=\"amount\" placeholder=\"сумма токенов\" />\n                <q-btn color=\"pink-13\" class=\"no-shadow full-width q-mt-sm q-mb-sm\" @click=\"requests(bal)\" label=\"Вывести\"></q-btn>\n            </q-card>\n        </q-dialog>\n        <div class=\"w-vw-100\">\n            <div class=\"row profilecard\">\n                <div class=\"col-12 flex text-center row justify-center\">\n                    <div class=\"col-12\">\n                        <q-img class=\"mobile-ui-profile-img w-100\" :src=\"thisModel ? thisModel.avatars : ''\">\n    \n                            <div class=\"absolute-top-right bg-none2\">\n                                <q-fab text-color=\"white\" class=\"maxc-w self-end \" icon=\"more_horiz\" direction=\"left\" :ripple=\"false\" active-icon=\"circle\">\n                                    <q-fab-action color=\"dark\" text-color=\"white\" class=\"flex\" to=\"/profile/settings\" icon=\"settings\" />\n                                    <q-fab-action color=\"red\" class=\"flex\" text-color=\"white\" @click=\"logout()\" icon=\"power_settings_new\" />\n                                </q-fab>\n                            </div>\n                            <div class=\"absolute-bottom row w-100 flex-center-div q-py-none\">\n                                <q-profilebar :id=\"thisModel.id\" v-if=\"showbar\" color=\"white\" :notpravite=\"pravite\" />\n                            </div>\n                        </q-img>\n                    </div>\n                </div>\n    \n    \n                <q-card class=\"mobile-ui-profile-infos q-my-xs w-100 \">\n                    <q-card-section class=\"col\" horizontal>\n                        <div class=\"leftcontent\">\n                            <div class=\"text-h6 q-mb-xs q-ml-md text-left \">{{thisModel?thisModel.name:''}}</div>\n                            <div class=\"row no-wrap items-center\">\n                                <q-rating size=\"28px\" :value=\"thisModel? thisModel.rank : rank\" :max=\"5\" :disable=\"this.$route.params.modelid === pcm.user.id\" color=\"yellow\" />\n                                <span class=\"text-caption text-grey q-ml-sm\">{{thisModel? thisModel.rank : 0}} ({{thisModel? thisModel.subscribers: 0}})</span>\n                            </div>\n                        </div>\n    \n                        <q-card-actions vertical class=\"justify-around q-px-md\">\n                            <q-btn flat round color=\"red\" :ripple=\"false\" icon=\"add\" @click=\"withdialog = true\" />\n                            <q-btn flat round color=\"red\" :label=\"`Ваш баланс: ${ bal ? bal : 0.00 } ₮`\" />\n                        </q-card-actions>\n                    </q-card-section>\n    \n                </q-card>\n            </div>\n            <div class=\"q-mx-xs h-vh-50\">\n                <swiper ref=\"profile_swiperbig\" :options=\"swiperOptionswitch\">\n                    <swiper-slide>\n                        <swiper class=\"swiper h-vh-50 bg-black profile-swiper\" :options=\"swiperOption\" ref=\"profile_swiper\" :auto-update=\"true\" :auto-destroy=\"true\" :delete-instance-on-destroy=\"true\" :cleanup-styles-on-destroy=\"true\">\n                            <swiper-slide v-for=\"(item, index) in vidos\" :key=\"item._id+index\" class=\"h-100 bg-black\">\n                                <vue-plyr class=\"mute-right h-100 rounded-borders\">\n                                    <video :data-plyr-config='`{ \"controls\": [\"play-large\",\"play\",\"mute\"]}`' class=\"profilevideo player\" :id=\"item._id\" :poster=\"item._source.body.video.replace('.mp4','_mobile.png')\" :src=\"item._source.body.video.replace('.mp4','_mobile.mp4')\" color=\"black\"\n                                        type=\"video/mp4\" />\n                                </vue-plyr>\n                                <q-icon name=\"zoom_out_map\" color=\"white\" size=\"30px\" @click=\"openfullvideo(item)\" class=\"z-index-video \" />\n                                <q-badge text-color=\"red\" class=\"badge-galary\" floating><span>видео</span></q-badge>\n                            </swiper-slide>\n                        </swiper>\n                    </swiper-slide>\n                    <swiper-slide>\n                        <swiper class=\"swiper h-vh-50  bg-black profile-swiper\" :options=\"swiperOption\" ref=\"profile_swiper_img\" v-if=\"imagesslider\">\n                            <swiper-slide v-for=\"(item, index) in imagesdata\" :key=\"index\" class=\"h-100 w-100 bg-black\">\n                                <q-img :src=\"item.src\" class=\"profilegalary\"></q-img>\n                                <q-badge text-color=\"red\" class=\"badge-galary\" floating><span>фото</span></q-badge>\n                            </swiper-slide>\n                            <swiper-slide :key=\"'sdsdsd'\" v-show=\"this.$route.params.modelid ? false : pcm.user.rol\" class=\"h-100 bg-black\">\n                                <q-file class=\"filepicker\" v-model=\"imagefile\" filled input-class=\"filepickerinner\" @input=\"uploadFIle\" :filter=\"checkFile\" @rejected=\"onRejected\">\n                                    <q-icon name=\"add\" size=\"50px\" color=\"dark\" />\n    \n                                </q-file>\n                            </swiper-slide>\n                        </swiper>\n                    </swiper-slide>\n                </swiper>\n    \n                <q-dialog v-model=\"fullvideo.open\" position=\"bottom\" transition-show=\"bounceIn\">\n                    <q-card class=\"profilefullvideo\" v-if=\"fullvideo.video\">\n                        <vue-plyr class=\"bigbtnplyr profilevideo mute-right\" :emit=\"['loadeddata']\">\n                            <video @play=\"setProgressBar\" controls=\"false\" data-plyr-config='{ \"controls\": [\"mute\"]}' ref=\"dialogVideo\" :src=\"fullvideo.video.video.replace('.mp4','_desktop.mp4')\" color=\"black\" type=\"video/mp4\" />\n                        </vue-plyr>\n                        <q-linear-progress :value=\"fullvideo.progress\" color=\"pink\" />\n    \n                        <q-card-section class=\"row items-center no-wrap\">\n                            <div class=\"text-left\">\n                                <div class=\"text-weight-bold text-uppercase\">\n                                    @{{ fullvideo.video.tags ? fullvideo.video.modelname : \"none\" }}\n                                </div>\n                                <div class=\"text-grey\">\n                                    {{ fullvideo.video.tags ? fullvideo.video.tags[0] : \"#none\" }}\n                                </div>\n                            </div>\n    \n                            <q-space />\n    \n                            <q-btn flat round icon=\"play_arrow\" @click=\"$refs.dialogVideo.play()\" />\n                            <q-btn flat round icon=\"pause\" @click=\"$refs.dialogVideo.pause()\" />\n                            <q-btn flat round icon=\"close\" v-close-popup />\n                        </q-card-section>\n                    </q-card>\n                </q-dialog>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport http from \"../../http-common\";\nimport { LocalStorage } from \"quasar\";\nimport { mapState } from \"vuex\";\nimport { Swiper, SwiperSlide } from 'vue-awesome-swiper'\nimport 'swiper/css/swiper.css'\n//import { log } from 'video.js';\nexport default {\n    name: \"PageIndex\",\n    components: {},\n    props: [\"pravite\"],\n    components: {\n        Swiper,\n        SwiperSlide,\n    },\n    data() {\n        return {\n            bal: 0,\n            imagefile: null,\n            podpis: 0,\n            imagesslider: true,\n            name: null,\n            vidos: [],\n            currency: null,\n            amount: null,\n            withdialog: false,\n            swiperOption: {\n                loop: false,\n                lazy: true,\n                observer: true,\n                slidesPerView: 1,\n                //simulateTouch : true,\n                // loopFillGroupWithBlank: false,\n                // grabCursor: true,\n                zoom: {\n                    enabled: true,\n                    maxRatio: 4,\n                    minRatio: 1,\n                    toggle: true,\n                },\n                allowSlideNext: true,\n                allowSlidePrev: true,\n\n                on: {\n                    slideChange: () => {\n                        // this.menuOpened = this.swiper.activeIndex === 0\n                    }\n                }\n            },\n            swiperOptionswitch: {\n                effect: 'fade',\n                resistanceRatio: 0,\n\n                lazy: false,\n                zoom: {\n                    enabled: false,\n                    maxRatio: 1,\n                    minRatio: 1,\n                    toggle: false,\n                },\n                direction: \"vertical\",\n                allowSlideNext: true,\n                allowSlidePrev: true,\n\n                slidesPerGroupSkip: 0,\n                slidesPerView: 1,\n                on: {\n                    slideChange: () => {\n                        // this.menuOpened = this.swiper.activeIndex === 0\n                    }\n                }\n            },\n            options: [\"RUB\", \"USD\", \"EUR\", \"CNY\", \"JPN\"],\n            alert: null,\n            podpleight: 0,\n            followers: 0,\n            likes: 0,\n            vidos: null,\n            imagesdata: null,\n            showbar: false,\n            rank: 0,\n            fullvideo: {\n                id: false,\n                video: null,\n                open: null,\n                progress: 0.0,\n            },\n            thisModel: null,\n            thumbStyle: {\n                display: \"none\",\n            },\n            barStyle: {\n                display: \"none\",\n            },\n        };\n    },\n    computed: {\n        ...mapState([\"pcm\"]),\n        imgSwiper: function() { return this.$refs.profile_swiper_img.$swiper }\n    },\n    sockets: {\n        pastes_images: function(res) {\n\n            if (res.status) {\n                this.$q.notify({\n                    type: 'positive',\n                    message: `done`\n                })\n                this.imgSwiper.removeSlide(0)\n                this.imagesdata.push(res.res)\n                this.$nextTick(() => {\n                    this.imgSwiper.update()\n                })\n            } else {\n                this.imagesslider = false;\n                this.imagesdata = JSON.parse(res)\n                this.$nextTick(() => {\n                    this.imagesslider = true;\n                })\n            }\n\n\n\n        },\n        pastes: function(res) {\n            console.log(res);\n            //  this.images = res\n        },\n        cl_getuserinfos: function(response) {\n\n            this.showbar = true;\n            this.thisModel = response;\n            this.vidos = response.videos;\n            this.followers = response.subscribers;\n            this.podpleight = response.subscribing;\n            //console.log('modeldata',this.thisModel );\n        },\n    },\n    methods: {\n        uploadFIle(file) {\n            // var v = this.images ? this.image :[];\n            // v.push(URL.createObjectURL(file))\n            //  this.images = V;\n            this.imgSwiper.addSlide(0, `<div class=\"h-100 bg-black swiper-slide swiper-slide-active\"><img src=\"${URL.createObjectURL(file)}\"  class=\"profilegalary\" >\n     <q-badge text-color=\"red\" floating ><span  @click=\"upload()\" id=\"uploadbtn\" class=\"savebtn\">save</span></q-badge></div>`)\n            this.imgSwiper.slideTo(0, 500, false)\n            let vm = this\n            console.log(document.getElementById('uploadbtn'));\n            document.getElementById('uploadbtn').addEventListener('click', function() {\n                vm.upload(file)\n            })\n        },\n        upload(file) {\n            this.$socket.emit('postes', { type: 'upload', tk: this.pcm.user.tk, payload: { img: file } })\n        },\n        checkFile(files) {\n            return files.filter(file => file.type === 'image/png' | file.type === 'image/jpg' | file.type === 'image/jpeg' |\n                file.size > 2048)\n        },\n        onRejected(rejectedEntries) {\n            this.$q.notify({\n                type: 'negative',\n                message: `file ${rejectedEntries[0]} did not pass validation constraints`\n            })\n        },\n        setProgressBar(evt) {\n            const progresser = setInterval(() => {\n                this.fullvideo.progress = evt.target.currentTime / evt.target.duration;\n                if (evt.target.currentTime === evt.target.duration || evt.target.paused)\n                    clearInterval(progresser);\n            }, 100);\n        },\n        openfullvideo(video) {\n            this.fullvideo.video = video._source.body;\n            this.fullvideo.open = true;\n            this.fullvideo.id = video._id;\n        },\n        getdata: function(id) {\n            this.$socket.emit(\"getuserinfoprofile\", {\n                id: id ? id : this.pcm.user.id,\n            });\n        },\n        routeback() {\n            this.$router.push(\"/\");\n        },\n        logout() {\n            let token = this.pcm.user.tk;\n            LocalStorage.clear();\n            this.$q.sessionStorage.remove(\"sspcm\");\n            this.$q.cookies.remove(\"sspcm\");\n            http({\n                method: \"get\",\n                url: \"/logout\",\n                headers: {\n                    \"x-access-token\": token,\n                },\n            }).then((response) => {\n                this.nologin = true;\n                this.nnologin = false;\n                location.replace(\"/\");\n            });\n        },\n        requests(i) {\n            this.withdialog = false;\n            http({\n                method: \"get\",\n                url: \"/withdraw\",\n                headers: {\n                    \"x-access-token\": this.pcm.user.tk,\n                    amount: parseFloat(this.amount),\n                    currency: this.currency,\n                },\n            }).then((response2) => {\n                this.alert = response2.data.status;\n                if (response2.data.status == \"done\") {\n                    http({\n                        method: \"get\",\n                        url: \"/balance\",\n                        headers: {\n                            \"x-access-token\": this.pcm.user.tk,\n                        },\n                    }).then((response2) => {\n                        //console.log('balance',response2);\n                        this.bal = response2.data.balance;\n                    });\n                }\n            });\n        },\n        create_model() {\n            http({\n                method: \"post\",\n                url: \"/create_model_chat\",\n                headers: {\n                    \"x-access-token\": this.pcm.user.tk,\n                },\n            }).then((response) => {});\n        },\n    },\n    beforeMount() {\n        this.getdata(this.$route.params.modelid);\n        this.name = this.pcm.user.un;\n    },\n    created() {\n\n    },\n    mounted() {\n        // this.$socket.emit(\"getuserinfo\", {\n        //   token: this.pcm.user.tk,\n        //   username: LocalStorage.getItem(\"username\")\n        // });\n        this.$socket.emit('postes', { type: 'get', tk: this.pcm.user.tk, payload: { userid: this.$route.params.modelid ? this.$route.params.modelid : this.pcm.user.id } })\n        http({\n            method: \"get\",\n            url: \"/balance\",\n            headers: {\n                \"x-access-token\": this.pcm.user.tk,\n                'userid': this.pcm.user.id\n            },\n        }).then((response2) => {\n            //console.log(response2);\n            this.bal = response2.data.balance;\n        });\n    },\n};\n</script>\n\n<style>\n.mt10 {\n    margin-top: 1vh;\n}\n\n.vidoss {\n    height: 15vh;\n}\n\n.h100 {\n    height: 90%;\n}\n\n.mt20p {\n    position: absolute;\n    margin-top: 10%;\n}\n\n.plyr__control--overlaid {\n    background: rgb(0 0 0 / 50%) !important;\n}\n</style>\n>\n","<template>\n  <q-page class=\"bg-white\" v-touch:swipe.right=\"onright\">\n <!-- <q-input outlined v-model=\"number\" prefix=\"$\" label-slot clearable>\n        <template v-slot:prepend>\n          <q-avatar>\n            <img src=\"https://dev.camsguns.com/img/PCMLogo.svg\">\n          </q-avatar>\n        </template>\n\n        <template v-slot:label>\n          <strong class=\"text-deep-orange\">поиск</strong>\n          название <em class=\"q-px-sm bg-deep-orange text-white rounded-borders\">моделей</em>\n        </template>\n      </q-input> -->\n\n    <div class=\"row w-vw-100 h-vh-10\" >\n      <q-toolbar class=\"bg-black text-white \">\n        <q-btn round dense flat icon=\"navigate_before\" class=\"q-mr-xs\" @click=\"goback\" />\n        <q-avatar >\n          <img src=\"https://rec.camsguns.com/logo.png\">\n        </q-avatar>\n\n        <q-space />\n\n        <q-input dark borderless v-model=\"searchQuery\" placeholder=\"model name\" input-class=\"text-center text-uppercase text-subtitle2 text-weight-light\" class=\"q-ml-md\">\n          <template v-slot:append>\n            <q-icon v-if=\"searchQuery === ''\" name=\"search\" />\n            <q-icon v-else name=\"clear\" class=\"cursor-pointer\" @click=\"text = ''\" />\n          </template>\n        </q-input>\n      </q-toolbar>\n    </div>\n    <div class=\"row\" v-if=\"girlsVideos.length > 0\">\n      <div class=\"col-12 q-pd-xs q-pr-xs\" v-for=\"(girlVideo, index) in girlsVideos\" :key=\"girlVideo.id\" >\n          <q-item clickable v-ripple :to=\"'/'+girlVideo.link\">\n      <q-item-section side  :v-if=\"imageExists(index ,girlVideo.screen).status\">\n        <q-avatar rounded size=\"100px\" >\n          <img  :v-if=\"!!(girlVideo.status)\" :src=\"girlVideo.screen\" />\n          <q-badge floating color=\"red\">live</q-badge>\n        </q-avatar>\n      </q-item-section>\n      <q-item-section class=\"text-black text-uppercase text-left\">\n        <q-item-label>@{{girlVideo.username}}</q-item-label>\n        <q-item-label class=\"text-black text-uppercase text-left\" caption>{{girlVideo.otherData.UuserId.name}}</q-item-label>\n      </q-item-section>\n      <q-item-section side>\n        {{\n           getdatediff(girlVideo.otherData.updatedAt).month !== 0 ? `${getdatediff(girlVideo.otherData.updatedAt).month} months ago`:\n           getdatediff(girlVideo.otherData.updatedAt).day !== 0 ? `${getdatediff(girlVideo.otherData.updatedAt).day} days ago`:\n           getdatediff(girlVideo.otherData.updatedAt).hr !== 0 ? `${getdatediff(girlVideo.otherData.updatedAt).hr} hrs ago`:\n           `${getdatediff(girlVideo.otherData.updatedAt).min} min ago`}}\n      </q-item-section>\n      <q-item-section avatar>\n          <q-avatar round>\n            <img :src=\"girlVideo.otherData.avatars\">\n          </q-avatar>\n        </q-item-section>\n    </q-item>\n      </div>\n    </div>\n    <div class=\"row h-vh-100 w-vw-100 justify-center items-center\" v-else> \n    <div class=\"col-8\"><p class=\"text-black text-h6 text-uppercase text-weight-light text-center q-mx-auto oswald-bold q-my-auto\">некого в эфире </p></div>\n    <div class=\"col-2\"><q-icon name=\"record\" color=\"black\" size=\"50px\"></q-icon></div>\n    </div>\n  </q-page>\n  \n</template>\n\n<script>\nimport http from \"../../http-common\";\nimport { LocalStorage, date } from 'quasar';\n\nexport default {\n  name:\"live\",\n  data() {\n    return {\n      model:\"\",\n      girlsVideos: [],\n      searchQuery:null,\n      girlsVideosBack:[]\n    };\n  },\n  watch:{\n    searchQuery: function(val){\n      this.girlsVideosBack = this.girlsVideos;\n     // console.log(val)\n      if(val){\n         this.girlsVideos = this.girlsVideos.filter(e=>e.username.search(val) !== -1 )\n     //  console.log(this.girlsVideos.filter(e=>e.username.search(val) !== -1 ))\n      } else {\n      this.girlsVideos = this.girlsVideosBack ; \n      }\n    \n    }\n  },\n  beforeCreate() {\n    // http({\n    //   method: \"get\",\n    //   url: \"/models_online\",\n    //   headers: {\n    //     \"x-access-token\": LocalStorage.getItem(\"token\")\n    //   }\n    // }).then(response => {\n    //   this.girlsVideos = response.data;\n    // });\n    // setInterval(\n    //   function() {\n    //     http({\n    //       method: \"get\",\n    //       url: \"/models_online\",\n    //       headers: {\n    //         \"x-access-token\": LocalStorage.getItem(\"token\")\n    //       }\n    //     }).then(response => {\n    //       if(!(this.searchQuery)){\n    //             this.girlsVideos = response.data;\n    //       }\n      \n    //     });\n    //   }.bind(this),\n    //   5000\n    // );\n  },\n  sockets:{\n    online:function(models){\n     this.girlsVideos = models\n    }\n  },\n  methods: {\n    goback:function(){\n   this.$root.$emit(\"changepage\", 1)\n    },\n      onright:function(){\n     this.$router.back()\n    },\n      getdatediff(dte){\n      let date2 = new Date(dte)\nlet date1 = new Date()\nlet diff = unit => date.getDateDiff(date1, date2, unit)\n     return {month:diff('months'),day:diff('days'),hr:diff('hours'),min:diff('minutes')}\n    },\n   imageExists: function (i, image_url){\n     this.girlsVideos[i].status = false;\n    var protocol = window.location.protocol\n    var url = `${protocol}//${image_url.split('//').reduce((a,q)=>a.length > q.length ? a : q )}`\n    // console.log(url.split('//').reduce((a,q)=>a.length > q.length ? a : q ))\n    var http = new XMLHttpRequest();\n    http.open('HEAD', url, false);\n    try {\n       http.send();\n       this.girlsVideos[i].screen = http.status !== 404 ? url : 'https://rec.camsguns.com/no-image.png';\n       this.girlsVideos[i].status = http.status !== 404;\n    } catch (error) {\n       this.girlsVideos[i].screen = http.status !== 404 ? url : 'https://rec.camsguns.com/no-image.png';\n       this.girlsVideos[i].status = http.status !== 404;\n    }\n    return {status:http.status != 404, img: url};\n\n}\n  }\n};\n</script>\n<style scoped>\n.vh100 {\n  height: 90vh;\n  width: 100%;\n}\n.vh40 {\n  height: 20vh;\n  width: 100%;\n}\n.mpb50 {\n  padding-top: 20vh;\n  height: 40vh;\n}\n.zi200 {\n  z-index: -200;\n}\n.bott {\n  margin-bottom: 0px;\n}\n.mb0 {\n  padding-top: 30vh;\n}\n.vh100 {\n  height: 100vh;\n}\n.zi200 {\n  z-index: 200;\n}\n</style\n>>\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n .swiper_menu {\n    .menu {\n      min-width: 100px;\n      width: 70%;\n      max-width: 320px;\n     background-color: #ffffff!important;\n      color: rgb(192, 9, 94);\n    }\n\n    .content {\n      width: 100%;\n    }\n\n    .menu-button {\n      position: absolute;\n         top: 48px;\n    left: 0px;\n    padding: 9px;\n      cursor: pointer;\n      transition: .3s;\n     // background-color: #2C8DFB;\n      z-index:2;\n      .bars {\n            position: relative;\n    display: block;\n    width: 27px;\n    height: 2px;\n    margin: 11px auto;\n    background-color: #fff;\n    border-radius: 10px;\n    transition: 0.3s;\n    z-index: 2;\n\n        &:nth-of-type(1) {\n          margin-top: 0px;\n        }\n        &:nth-of-type(3) {\n          margin-bottom: 0px;\n        }\n      }\n\n      &:hover {\n        .bars:nth-of-type(1) {\n          transform: translateY(1.5px) rotate(-4.5deg);\n        }\n        .bars:nth-of-type(2) {\n          opacity: .9;\n        }\n        .bars:nth-of-type(3) {\n          transform: translateY(-1.5px) rotate(4.5deg);\n        }\n      }\n\n      &.opened {\n        .bars:nth-of-type(1) {\n          transform: translateY(15px) rotate(-45deg);\n        }\n        .bars:nth-of-type(2) {\n          opacity: 0;\n        }\n        .bars:nth-of-type(3) {\n          transform: translateY(-15px) rotate(45deg);\n        }\n\n        &:hover {\n          .bars:nth-of-type(1) {\n            transform: translateY(13.5px) rotate(-40.5deg);\n          }\n          .bars:nth-of-type(2) {\n            opacity: .1;\n          }\n          .bars:nth-of-type(3) {\n            transform: translateY(-13.5px) rotate(40.5deg);\n          }\n        }\n      }\n    }\n  }\n.vh100 {\n  height: 100vh !important;\n  height: calc(var(--vh, 1vh) * 100) !important;\n  max-height: 100% !important;\n  width: 100% !important;\n  object-fit: cover !important;\n}\n\n.vh40 {\n  height: 20vh;\n  width: 100%;\n}\n\n.mpb50 {\n  padding-top: 20vh;\n  height: 40vh;\n}\n\n.zi200 {\n  z-index: -200;\n}\n\n.bott {\n  margin-bottom: 0px;\n}\n\n.mb0 {\n  padding-top: 30vh;\n}\n\n.zi200 {\n  z-index: 200;\n}\n\n.mt20 {\n  margin-top: -40px;\n}\n\n.comdial {\n  max-height: 60vh;\n}\n\n.clbtn {\n  display: block;\n  float: right;\n  margin-top: 0%;\n}\n\n.pb50 {\n  padding-bottom: 15vh;\n}\n\n.shadow {\n  -webkit-filter: drop-shadow(0px 0px 1px black);\n  filter: drop-shadow(0px 0px 1px black);\n}\n","@import url('https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900&display=swap');\n\n\n\n.btn-bot{\n    top: 70vh;\n    z-index:999999999999999999999;\n}\n// Nav menu scss\n#nav {\n  border: 1px solid blue;\n  margin: 20px auto;\n  font-size: 25px;\n  display: flex;\n  justify-content: center;\n  align-items:center;\n  color:rgb(167, 167, 167);\n  *{\n    margin: 10px;\n  }\n  a{\n    color: rgb(167, 167, 167);\n    text-decoration: none;\n  }\n}\n\n//video-capture scss\n.video-cap-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  .stream-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n  .controls {\n    margin: 10px;\n    .btn {\n      margin: 10px;\n    }\n  }\n  .camera,\n  .preview {\n    object-fit: fill;\n  }\n  .camera {\n    width: 100%;\n    filter: FlipH;\n  }\n  .error-video {\n    font-size: 25px;\n    color: #ba5151;\n    margin: 10px;\n  }\n}\n\n\n//photo-capture scss\n.photo-capture {\n  padding: 10px;\n  margin: 10px;\n  width: 300px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  .camera,\n  .preview {\n    margin: 10px;\n    width: 100%;\n    object-fit: fill;\n  }\n  .camera {\n    transform: scaleX(-1);\n    filter: FlipH;\n  }\n}\n\n//loader scss\n.loader {\n  margin: 0 auto;\n  border: 16px solid #34495e; /* Light grey */\n  border-top: 16px solid #41b883; /* Blue */\n  border-radius: 50%;\n  width: 80px;\n  height: 80px;\n  animation: spin 2s linear infinite;\n}\n\n\n.flex-center {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.btn {\n  margin-top: 10px;\n  background-color: red;\n  color: white;\n  margin: 10px;\n  min-width: 65px;\n  height: 65px;\n  border: none;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: 0.3s;\n  &:hover {\n    background-color: red;\n    color: white;\n  }\n  .fas {\n    font-size: 25px;\n  }\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n","@import url(\"https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900&display=swap\");\n.btn-bot {\n  top: 70vh;\n  z-index: 1000000000000000100000;\n}\n\n#nav {\n  border: 1px solid blue;\n  margin: 20px auto;\n  font-size: 25px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #a7a7a7;\n}\n#nav * {\n  margin: 10px;\n}\n#nav a {\n  color: #a7a7a7;\n  text-decoration: none;\n}\n\n.video-cap-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.video-cap-container .stream-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.video-cap-container .controls {\n  margin: 10px;\n}\n.video-cap-container .controls .btn {\n  margin: 10px;\n}\n.video-cap-container .camera,\n.video-cap-container .preview {\n  object-fit: fill;\n}\n.video-cap-container .camera {\n  width: 100%;\n  filter: FlipH;\n}\n.video-cap-container .error-video {\n  font-size: 25px;\n  color: #ba5151;\n  margin: 10px;\n}\n\n.photo-capture {\n  padding: 10px;\n  margin: 10px;\n  width: 300px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n}\n.photo-capture .camera,\n.photo-capture .preview {\n  margin: 10px;\n  width: 100%;\n  object-fit: fill;\n}\n.photo-capture .camera {\n  transform: scaleX(-1);\n  filter: FlipH;\n}\n\n.loader {\n  margin: 0 auto;\n  border: 16px solid #34495e;\n  /* Light grey */\n  border-top: 16px solid #41b883;\n  /* Blue */\n  border-radius: 50%;\n  width: 80px;\n  height: 80px;\n  animation: spin 2s linear infinite;\n}\n\n.flex-center {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.btn {\n  margin-top: 10px;\n  background-color: red;\n  color: white;\n  margin: 10px;\n  min-width: 65px;\n  height: 65px;\n  border: none;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: 0.3s;\n}\n.btn:hover {\n  background-color: red;\n  color: white;\n}\n.btn .fas {\n  font-size: 25px;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}"]}