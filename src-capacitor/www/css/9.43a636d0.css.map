{"version":3,"sources":["/var/www/html/privat/src/pages/desktop/src/pages/desktop/profile.vue","/var/www/html/privat/src/pages/src/pages/profile.vue"],"names":[],"mappings":"AA6oBA,UACA,eAAA,CACA,wBAAA,CACA,qBAAA,CACA,iBACA,CACA,QACA,WACA,CACA,MACA,UACA,CCjfA,MACA,eACA","file":"9.43a636d0.css","sourcesContent":["<template>\n  <q-layout class=\"bg-white profileminfix\">\n    <div class=\"row\">\n      <div class=\"col-lg-2 col-md-3 mt-vh-4\">\n        <q-followings />\n      </div>\n\n      <div v-if=\"!auth\" class=\"flex justify-center q-mt-xl text-black col\">\n        <h5></h5>\n      </div>\n\n      <div\n        v-else\n        class=\"col-lg-7 col-md-5 mt-vh-4 d-flex justify-content-center fullpageMT\"\n      >\n        <!--Профиль модели-->\n        <div v-if=\"isModel\" class=\"w-60 h-100 m-mx-auto\">\n          <div class=\"row\">\n            <q-avatar size=\"10vh\">\n              <img style=\"border: 1px solid #ffffff\" :src=\"thisModel.avatars\" />\n            </q-avatar>\n\n            <div class=\"row h-mc flex-1\">\n              <div class=\"col q-mb-none ml-vw-1\">\n                <div class=\"col-12 row\">\n                  <p class=\"text-black h-mc text-weight-bold text-30 q-ma-none\">\n                    {{ thisModel.name }}\n                  </p>\n                </div>\n                <p class=\"text-black h-mc text-comment-18 q-ma-none\">\n                  @{{ username }}\n                </p>\n              </div>\n              <!-- <q-btn rounded no-caps class=\"q-mt-sm\" dense color=\"pink-13\">\n                <p class=\"text-white q-mx-sm q-mb-none\">Подписаться</p>\n              </q-btn> -->\n              <q-btn\n                flat\n                icon=\"settings\"\n                class=\"text-black h-mc ml-auto\"\n                to=\"/profile/settings\"\n              />\n            </div>\n            <!-- @click=\"\" -->\n          </div>\n\n          <div class=\"text-black row flex-center-div\">\n            <q-profilebar v-if=\"showbar\" :id=\"thisModel.id\" :notpravite=\"true\"/>\n          </div>\n          <div class=\"infomain col-12 row items-center q-mb-xs\">\n            <div\n              class=\"col row q-mt-md q-ml-md items-center q-mb-md text-black\"\n            >\n              <q-icon name=\"fiber_manual_record\" />\n              <p class=\"q-mb-none q-ml-xs text-comment-18\">Баланс:</p>\n              <p class=\"text-grey q-mb-none q-ml-xs text-comment-18\">\n                {{ balance }}T\n              </p>\n            </div>\n\n            <q-btn\n              rounded\n              size=\"9px\"\n              class=\"col-3 q-px-none q-py-xs q-ml-xs q-mb-xs q-mt-xs q-mr-xs\"\n              @click=\"payout()\"\n              color=\"pink-6\"\n              label=\"Запросить вывод\"\n            />\n          </div>\n          <div class=\"infomain col-12 row items-center q-mb-xs\">\n            <div\n              class=\"col row q-mt-md q-ml-md items-center q-mb-md text-black\"\n            >\n              <q-icon name=\"fiber_manual_record\" />\n              <p class=\"q-mb-none q-ml-xs text-comment-18\">Пин код:</p>\n              <p class=\"text-grey q-mb-none q-ml-xs text-comment-18\">\n                {{ pin }}\n              </p>\n            </div>\n            <q-btn\n              rounded\n              size=\"9px\"\n              class=\"col-3 q-px-none q-py-xs q-ml-xs q-mb-xs q-mt-xs q-mr-xs\"\n              @click=\"identification()\"\n              color=\"pink-6\"\n              label=\"Получить новыи\"\n            />\n          </div>\n          <div class=\"text-black row\"></div>\n          <q-scroll-area\n            :thumb-style=\"thumbStyle\"\n            :bar-style=\"barStyle\"\n            class=\"h-60\"\n          >\n            <div class=\"row\">\n              <div\n                v-for=\"(item, index) in vidos\"\n                :key=\"item._id\"\n                v-bind:class=\"[\n                  { 'ml-09': index % 3 != 0 },\n                  'w-32',\n                  'q-pa-none',\n                  'q-pa-none',\n                  'mb-1',\n                ]\"\n              >\n                <div class=\"bg-black rounded-borders flex\">\n                  <vue-plyr class=\"mute-right\">\n                    <video\n                      data-plyr-config='{ \"controls\": [\"play-large\",\"play\",\"settings\",\"mute\"], \"settings\": [\"quality\"]}'\n                      class=\"col-12\"\n                      :id=\"item._id\"\n                      :src=\"item.body.video.replace('.mp4','_mobile.mp4')\"\n                      color=\"black\"\n                      type=\"video/mp4\"\n                    />\n                  </vue-plyr>\n                </div>\n              </div>\n            </div>\n          </q-scroll-area>\n        </div>\n\n        <!--Профиль юзера-->\n\n        <div v-else class=\"w-60 h-100 m-mx-auto\">\n          <div class=\"row m-mx-auto\">\n            <div class=\"row col-12\">\n              <q-avatar size=\"10vh\">\n                <img\n                  style=\"border: 1px solid #ffffff\"\n                  :src=\"thisModel.avatars\"\n                />\n              </q-avatar>\n              <div class=\"row h-mc flex-1\">\n                <div class=\"col q-mb-none ml-vw-1\">\n                  <div class=\"col-12 row\">\n                    <p\n                      class=\"text-black h-mc text-weight-bold text-30 q-ma-none\"\n                    >\n                      {{ thisModel.name }}\n                    </p>\n                  </div>\n                  <p class=\"text-black h-mc text-comment-18 q-ma-none\">\n                    @{{ username }}\n                  </p>\n                  <div class=\"row\">\n                    <q-profilebar v-if=\"showbar\" :id=\"thisModel.id\" :notpravite=\"true\"/>\n                  </div>\n                </div>\n\n                <!-- <q-btn rounded no-caps class=\"q-mt-sm\" dense color=\"pink-13\">\n                <p class=\"text-white q-mx-sm q-mb-none\">Подписаться</p>\n              </q-btn> -->\n                <q-btn\n                  flat\n                  icon=\"settings\"\n                  class=\"text-black h-mc ml-auto\"\n                  to=\"/profile/settings\"\n                />\n              </div>\n              <!-- @click=\"\" -->\n            </div>\n            <div class=\"infomain col-12 row items-center q-mb-md mt-vh-2\">\n              <div\n                class=\"col-8 row q-mt-md q-ml-md items-center q-mb-md text-black\"\n              >\n                <q-icon name=\"fiber_manual_record\" />\n                <p class=\"q-mb-none q-ml-xs\">Баланс:</p>\n                <p\n                  class=\"text-grey q-mb-none q-ml-xs\"\n                  v-if=\"balance == null || balance == 0\"\n                >\n                  0T\n                </p>\n                <p v-else class=\"text-grey q-mb-none q-ml-xs\">{{ balance }}T</p>\n              </div>\n              <q-btn\n                rounded\n                size=\"9px\"\n                class=\"col q-px-none q-py-xs q-ml-xs q-mb-xs q-mt-xs q-mr-xs\"\n                label=\"Пополнить баланс\"\n                color=\"pink-6\"\n                @click=\"depositDialog = true\"\n              />\n            </div>\n            <p class=\"text-black full-width flex flex-center\">Мои поцелуи</p>\n          </div>\n          <q-scroll-area\n            :thumb-style=\"thumbStyle\"\n            :bar-style=\"barStyle\"\n            class=\"h-65\"\n          >\n            <div class=\"row\">\n              <div\n                v-for=\"(item, index) in vidos\"\n                :key=\"item._id\"\n                v-bind:class=\"[\n                  { 'ml-09': index % 3 != 0 },\n                  'w-32',\n                  'q-pa-none',\n                  'q-pa-none',\n                  'mb-1',\n                ]\"\n              >\n                <div class=\"bg-black rounded-borders videoprofile\" v-if=\"item._source.body\">\n                  <vue-plyr class=\"mute-right\">\n                    <video\n                      data-plyr-config='{ \"controls\": [\"play-large\",\"play\",\"settings\",\"mute\"], \"settings\": [\"quality\"]}'\n                      class=\"col-12 videoprofile-inter\"\n                      :id=\"item._id\"\n                      :src=\"item._source.body.video.replace('.mp4','_mobile.mp4')\"\n                      color=\"black\"\n                      type=\"video/mp4\"\n                    />\n                  </vue-plyr>\n                   <q-icon name='zoom_out_map' color=\"white\" size=\"20px\" @click=\"openfullvideo(item)\" class=\"z-index-video\"/>\n                </div>\n              </div>\n            </div>\n          </q-scroll-area>\n                    <q-dialog v-model=\"fullvideo.open\" position=\"bottom\" transition-show=\"bounceIn\" >\n      <q-card class=\"profilefullvideo\" v-if=\"fullvideo.video\">\n        <q-btn\n      :loading=\"loading\"\n      :percentage=\"percentage\"\n      dark-percentage\n      unelevated\n      color=\"red\"\n      class=\"delete_btn\"\n      text-color=\"black\"\n      @click=\"startComputingdelete(fullvideo.id, token)\"\n      icon=\"delete_forever\"\n      style=\"width: 100px\"\n    />\n        <vue-plyr class=\"mute-right\" >\n                    <video\n                      @play=\"setProgressBar\"\n                      controls=\"false\"\n                      class=\"custHeight\"\n                      data-plyr-config='{ \"controls\": [\"mute\"]}'\n                      ref=\"dialogVideo\"\n                      :src=\"fullvideo.video.video.replace('.mp4','_desktop.mp4')\"\n                      color=\"black\"\n                      type=\"video/mp4\"\n                    />\n                  </vue-plyr>\n        <q-linear-progress :value=\"fullvideo.progress\" color=\"pink\" />\n\n        <q-card-section class=\"row items-center no-wrap\">\n          <div class=\"text-left\">\n              <div class=\"text-weight-bold text-uppercase\">@{{ fullvideo.video.tags ? fullvideo.video.modelname : 'none'}}</div>\n            <div class=\"text-grey\">{{fullvideo.video.tags ? fullvideo.video.tags[0] : '#none'}}</div>\n          </div>\n\n          <q-space />\n\n          <q-btn flat round icon=\"play_arrow\" @click=\"$refs.dialogVideo.play()\"/>\n          <q-btn flat round icon=\"pause\" @click=\"$refs.dialogVideo.pause()\"/>\n          <q-btn flat round icon=\"close\" v-close-popup />\n        </q-card-section>\n      </q-card>\n    </q-dialog>\n        </div>\n      </div>\n    <q-listrec />\n    </div>\n\n    <q-dialog v-show=\"withdrawDialog\" class=\"row\">\n      <q-card class=\"bg-white full-width fullpage q-pl-sm q-pr-sm\">\n        <p>Укажите необходимую сумму и валюту для вывода</p>\n        <q-select\n          class=\"col-12 q-pt-sm\"\n          outlined\n          v-model=\"currency\"\n          :options=\"options\"\n          label=\"Валюта вывода\"\n        />\n        <q-input\n          class=\"col-12 q-pt-sm\"\n          outlined\n          v-model=\"amount\"\n          placeholder=\"сумма токенов\"\n        />\n        <q-btn\n          color=\"pink-13\"\n          class=\"no-shadow full-width q-mt-sm q-mb-sm\"\n          @click=\"withdraw()\"\n          label=\"Вывести\"\n        ></q-btn>\n      </q-card>\n    </q-dialog>\n\n    <q-dialog v-model=\"depositDialog\">\n      <q-card\n        color=\"white\"\n        class=\"w-vw-20 h-vh-30 absolute-center flex q-px-md\"\n      >\n        <div\n          v-if=\"!yad\"\n          class=\"mt-vh-4 row flex-center-div flex-center-vertical\"\n        >\n          <div>\n            <p class=\"q-pa-none\">\n              1 токен равен 1 рубль укажите сумму в рублях ниже\n            </p>\n            <q-input v-model=\"amount_deposit\" outlined placeholder=\"Сумма\" />\n            <q-btn\n              rounded\n              class=\"no-shadow w-60 mt-vh-2 ml-20 text-center bg-pink-6 text-white\"\n              label=\"Перейти в кассу\"\n              @click=\"depositstart()\"\n            />\n          </div>\n        </div>\n        <div v-else class=\"flex-center-div flex-center-vertical\">\n          <!-- start -->\n          <div>\n            <div>\n              Сформирован счет № {{ order_id }} на сумму:\n              {{ amount_deposit }} токенов\n            </div>\n            <form\n              method=\"POST\"\n              class=\"flex w-70 ma-auto\"\n              action=\"https://money.yandex.ru/quickpay/confirm.xml\"\n            >\n              <input type=\"hidden\" name=\"receiver\" value=\"4100115505163705\" />\n              <input type=\"hidden\" name=\"formcomment\" value=\"Токены\" />\n              <input type=\"hidden\" name=\"short-dest\" value=\"Покупка токенов\" />\n              <input\n                type=\"hidden\"\n                name=\"label\"\n                :value=\"amount_deposit + ' Токенов'\"\n              />\n              <input type=\"hidden\" name=\"quickpay-form\" value=\"donate\" />\n              <input type=\"hidden\" name=\"targets\" :value=\"amount_deposit\" />\n              <input\n                type=\"hidden\"\n                name=\"sum\"\n                :value=\"amount_deposit\"\n                data-type=\"number\"\n              />\n              <input type=\"hidden\" name=\"comment\" :value=\"thsincom\" />\n              <input type=\"hidden\" name=\"need-fio\" value=\"false\" />\n              <input type=\"hidden\" name=\"need-email\" value=\"false\" />\n              <input type=\"hidden\" name=\"need-phone\" value=\"false\" />\n              <input type=\"hidden\" name=\"need-address\" value=\"false\" />\n              <input type=\"hidden\" name=\"paymentType\" value=\"AC\" />\n              <q-btn\n                rounded\n                class=\"flex-center bg-pink-6 mt-vh-2 w-100 text-white\"\n                type=\"submit\"\n                label=\"Перейти к оплате\"\n              />\n            </form>\n          </div>\n        </div>\n        <!-- end -->\n      </q-card>\n    </q-dialog>\n  </q-layout>\n</template>\n\n<script src=\"https://static.yamoney.ru/checkout-js/v1/checkout.js\"></script>\n<script>\nimport http from \"../../http-common\";\nimport { LocalStorage } from \"quasar\";\nimport { mapState } from 'vuex';\nexport default {\n  name: \"App\",\n  components: {\n  },\n  data() {\n    return {\n      plyr: {\n        fullscreen: { enabled: false },\n      },\n      podpleight: 0,\n      followers: 0,\n      likes: 0,\n      loading:null,\n      vidos: null,\n      isModel: false,\n      percentage:null,\n      balance: 0,\n      auth: null,\n      withdrawDialog: false,\n      options: [\"RUB\", \"USD\", \"EUR\", \"CNY\", \"JPN\"],\n      currency: null,\n      amount: null,\n      interval:null,\n      depositDialog: false,\n      yad: false,\n      amount_deposit: null,\n      order_id: 0,\n      recModels: 5,\n      modelall_video: 0,\n      subscribList: null,\n      subscribListL: false,\n      playedid: null,\n      pin: \"\",\n      token: null,\n      username: null,\n      userid: null,\n      fullvideo:{\n        open:false,\n        video:null,\n        id:null,\n        progress:null\n      },\n      name: LocalStorage.getItem(\"name\"),\n      auth: null,\n      thsincom: \"Токены от ID:\",\n      thisModel: {\n        avatars: null,\n        createdAt: null,\n        is_vip: null,\n        name: null,\n        pub_streamid: null,\n        sec_streamid: null,\n        updatedAt: null,\n        videos: {},\n      },\n      showbar:false,\n      thumbStyle: {\n        display: \"none\",\n      },\n      barStyle: {\n        display: \"none\",\n      },\n      controls: [\n        \"play-large\", // The large play button in the center\n        \"restart\", // Restart playback\n        \"rewind\", // Rewind by the seek time (default 10 seconds)\n        \"play\", // Play/pause playback\n        \"fast-forward\", // Fast forward by the seek time (default 10 seconds)\n        \"progress\", // The progress bar and scrubber for playback and buffering\n        \"current-time\", // The current time of playback\n        \"duration\", // The full duration of the media\n        \"mute\", // Toggle mute\n        \"volume\", // Volume control\n        \"captions\", // Toggle captions\n        \"settings\", // Settings menu\n        \"pip\", // Picture-in-picture (currently Safari only)\n        \"airplay\", // Airplay (currently Safari only)\n        \"download\", // Show a download button with a link to either the current source or a custom URL you specify in your options\n        \"fullscreen\", // Toggle fullscreen\n      ],\n    };\n  },\n  computed:{\n   ...mapState(['pcm'])\n  },\n  beforeMount(){\n    this.token = this.pcm.user.tk;\n    this.username = this.pcm.user.un;\n    this.userid = this.pcm.user.id;\n    this.auth = this.pcm.auth;\n    this.thsincom = \"Токены от ID:\"+ this.username\n         if(!this.auth){\n            this.$router.push('/')\n      } else {\n          this.$socket.emit(\"identification\", {\n      token: this.pcm.user.tk,\n      update: false,\n    });\n        http({\n          method: \"get\",\n          url: \"/balance\",\n          headers: {\n            \"x-access-token\": this.pcm.user.tk,\n          },\n        }).then((response) => {\n          this.balance = response.data.balance;\n        });\n      }\n  },\n  sockets: {\n    identification: function (response) {\n      this.pin = response.uuid;\n    },\n    cl_authcontroll: function (response) {\n      if (response.massage == \"auth\") {\n        this.auth = true;\n      } else if (response.massage == \"deauth\") {\n        this.auth = false;\n      }\n    },\n    cl_subscribeControle: function (response) {\n      //#//===--- this is for nnotification don't touch it please ----===//#//\n\n      if (response.status == \"ok\") {\n        this.recModels[response.index].issubscribe = false;\n        this.$q.notify({\n          color: \"pink-6\",\n          message: \"Подписка на \" + response.name + \" оформлена\",\n          classes: \"glossy\",\n          timeout: 500,\n        });\n      }\n      if (response.status == \"removed\") {\n        this.recModels[response.index].issubscribe = true;\n        this.$q.notify({\n          color: \"pink-6\",\n          message: \"Вы отказались от подписки на \" + response.name,\n          classes: \"glossy\",\n          timeout: 500,\n        });\n      }\n      if (response.status == \"error\") {\n        if (response.log == \"you can not follow your self\") {\n          this.$q.notify({\n            color: \"pink-6\",\n            message: \"Вы не можете подписаться сами на себя \",\n          });\n        }\n      }\n      if (response.opennotifs) {\n        askForPermissioToReceiveNotifications(response.id, Platform.is);\n      }\n    },\n    cl_getuserinfos: function (response) {\n      this.showbar = true,\n      this.thisModel = response;\n      console.log(response)\n      this.vidos = response.videos;\n      if (this.vidos) {\n        for (var i = 0; i < this.vidos.length; i++) {\n          // this.player[i] = new Plyr(\"#\"+this.vidos[i]._id);\n          this.vidos[i].status = \"mdi-play\";\n        }\n      }\n      this.followers = response.subscribers;\n      this.podpleight = response.subscribing;\n    },\n  },\n  mounted() {\n \n    // const checkout = YandexCheckout(\n    //   \"7CD398BA5F300CE05CE19E46EA4ACA4EB5AA9728AF031DA21ED6D331B685BB02\"\n    // );\n  },\n  created() {\n    this.$socket.emit(\"s_chagePage\", {\n      page: \"index\",\n    });\n    this.$socket.emit(\"getuserinfo\", {\n      token: this.pcm.user.tk,\n      username: this.username,\n    });\n  },\n  beforeCreate() {\n   \n\n  },\n\n  methods: {\n    startComputingdelete (id, token) {\n     \n      this[`loading`] = true\n      this[`percentage`] = 0\n      this[`interval`] = setInterval(() => {\n        this[`percentage`] += Math.floor(Math.random() * 8 + 10)\n  \n        if (this[`percentage`] >= 100) {\n           //console.log({id, token});\n            this.$socket.emit('deletevideobyid', {id:id, token: token }, (res)=>{\n         if(res.status){\n            this.$q.notify({\n                 type:'positive',\n                 message:'deleted with success.'\n               })\n         } else {\n            this.$q.notify({\n              type:'nigative',\n              message:res.reason\n            })\n         }\n         })\n          clearInterval(this[`interval`])\n          this[`loading`] = false\n        }\n      }, 700)\n    },\n            setProgressBar(evt){\n    const progresser =  setInterval(()=>{\n        this.fullvideo.progress = evt.target.currentTime / evt.target.duration;\n       if( evt.target.currentTime === evt.target.duration || evt.target.paused)  clearInterval(progresser) \n     },100)\n    },\n        openfullvideo(video){\n     this.fullvideo.video = video._source.body;\n     this.fullvideo.open = true;\n     this.fullvideo.id = video._id\n    },\n    subscribe(modelid, modell, index) {\n      this.$socket.emit(\"subscribeControle\", {\n        sender: this.pcm.user.id,\n        receiver: modelid,\n        token: this.pcm.user.tk,\n        index: index,\n      });\n    },\n    identification() {\n      this.$socket.emit(\"identification\", {\n        token: this.pcm.user.tk,\n        update: true,\n      });\n    },\n    payout() {\n      this.withdrawDialog = true;\n    },\n    depositstart() {\n      http({\n        method: \"get\",\n        url: \"/depositstart\",\n        headers: {\n          \"x-access-token\": this.pcm.user.tk,\n          amount: this.amount_deposit,\n        },\n      }).then((response2) => {\n        this.order_id = response2.data.link.id;\n        this.yad = true;\n      });\n    },\n    withdraw() {\n      this.withdialog = false;\n      http({\n        method: \"get\",\n        url: \"/withdraw\",\n        headers: {\n          \"x-access-token\": this.pcm.user.tk,\n          amount: parseFloat(this.amount),\n          currency: this.currency,\n        },\n      }).then((response2) => {\n        this.alert = response2.data.status;\n        if (response2.data.status == \"done\") {\n          location.reload();\n        } else {\n          this.$q.notify({\n            color: \"negative\",\n            message: \"Что-то пошло не так!\",\n          });\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style>\n.infomain {\n  background: #ffffff;\n  border: 1px solid #e5e5e5;\n  box-sizing: border-box;\n  border-radius: 4px;\n}\n.vidoss {\n  height: 15vh;\n}\n.h100 {\n  height: 90%;\n}\n</style>\n","\n<template>\n\n  <q-page class=\"bg-white text-white\">\n    <div v-if=\"$q.platform.is.mobile\" class=\"mobile-only\">\n    <transition name=\"fade\">\n      <mobile></mobile>\n       </transition>\n    </div>\n\n    <div v-if=\"$q.platform.is.desktop\" class=\"desktop-only\">\n      <desktop></desktop>\n    </div>\n  </q-page>\n \n</template>\n\n<script>\nimport http from \"../http-common\";\nimport Desktop from \"./desktop/profile.vue\";\nimport Mobile from \"./mobile/profile.vue\";\nimport { LocalStorage } from 'quasar';\n\nexport default {\n  name: \"PageIndex\",\n  components: {\n    desktop: Desktop,\n    mobile: Mobile\n  },\n\n  data() {\n    return {\n      bal: \"100.00\",\n      nnologin: false,\n      nologin: true,\n      username: null,\n      password: null,\n      signupform: false,\n      accept: false,\n      roles: \"\",\n      name: LocalStorage.getItem(\"username\")\n    };\n  },\n  methods: {\n    create_model() {\n      http({\n        method: \"post\",\n        url: \"/create_model_chat\",\n        headers: {\n          \"x-access-token\": LocalStorage.getItem(\"token\")\n        }\n      }).then(response => {\n        // console.log(response);\n      });\n    },\n    /*\n    logout() {\n      http({\n        method: \"get\",\n        url: \"/logout\",\n        headers: {\n          \"x-access-token\": LocalStorage.getItem(\"token\")\n        }\n      }).then(response => {\n        this.nologin = true;\n        this.nnologin = false;\n      });\n    },\n    */\n    signup() {\n      this.nologin = false;\n      this.signupform = true;\n      this.nnologin = false;\n    },\n    signin() {\n      this.nologin = true;\n      this.signupform = false;\n      this.nnologin = false;\n    },\n    signupstart() {\n      this.nologin = false;\n      this.signupform = false;\n      var data = {\n        username: this.username,\n        password: this.password,\n        roles: this.roles\n      };\n\n      http\n        .post(\"/signup\", data)\n        .then(response => {\n          if (response.data.mess == \"ok\") {\n            this.nologin = true;\n            this.signupform = false;\n            this.nnologin = false;\n          } else if (response.data.auth == \"false\") {\n            this.$q.notify(response.data.reason);\n            this.nologin = false;\n            this.signupform = true;\n            this.nnologin = false;\n          } else {\n            this.nologin = false;\n            this.signupform = true;\n            this.nnologin = false;\n          }\n        })\n        .catch(err => {\n          this.$q.notify(\"ошибка попробуйте снова и проверьте форму\");\n          this.nologin = false;\n          this.signupform = true;\n          this.nnologin = false;\n        });\n    },\n    signinstart() {\n      this.nologin = false;\n      this.signupform = false;\n      var data = {\n        username: this.username,\n        password: this.password\n      };\n\n      http.post(\"/signin\", data).then(response => {\n        console.log(response.data);\n\n        if (response.data.stat == \"ok\") {\n          this.nologin = false;\n          this.signupform = true;\n\n          const token = response.data.reason;\n          const user = this.username;\n          LocalStorage.setItem(\"token\", token);\n          LocalStorage.setItem(\"username\", user);\n          this.nologin = false;\n          this.signupform = false;\n          this.auth = true;\n          this.nnologin = true;\n        } else if (response.data.auth == \"false\") {\n          this.$q.notify(response.data.reason);\n          this.nologin = false;\n          this.signupform = true;\n          this.nnologin = false;\n        }\n      });\n    }\n  },\n  beforeCreate() {\n    http({\n      method: \"get\",\n      url: \"/verify_sess\",\n      headers: {\n        \"x-access-token\": LocalStorage.getItem(\"token\")\n      }\n    }).then(response2 => {\n      if (response2.data.session == \"YES\") {\n        this.nologin = false;\n        this.signupform = false;\n        this.auth = true;\n        this.nnologin = true;\n      } else {\n        this.nologin = true;\n        this.nnologin = false;\n      }\n    });\n  }\n};\n</script>\n<style >\n.mt10 {\n  margin-top: 10vh;\n}\n</style>>\n"]}